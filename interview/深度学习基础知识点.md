# åŸºç¡€çŸ¥è¯†ç‚¹
## æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„åŸå› æ˜¯ä»€ä¹ˆ  
### é—®é¢˜åˆ†æ
æ¢¯åº¦æ¶ˆå¤±ï¼ˆVanishing Gradientï¼‰å’Œæ¢¯åº¦çˆ†ç‚¸ï¼ˆExploding Gradientï¼‰æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨æ·±å±‚ç¥ç»ç½‘ç»œä¸­åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œæ¢¯åº¦åœ¨å¤šå±‚ä¼ æ’­æ—¶é€æ¸ç¼©å°æˆ–æ”¾å¤§çš„é—®é¢˜ï¼Œå¯¼è‡´æ¨¡å‹éš¾ä»¥æœ‰æ•ˆè®­ç»ƒã€‚

#### **1. æ¢¯åº¦æ¶ˆå¤±çš„åŸå› **
+ **é“¾å¼æ³•åˆ™ç´¯ä¹˜å¯¼è‡´æ¢¯åº¦è¶‹è¿‘äº0**  
åœ¨åå‘ä¼ æ’­æ—¶ï¼Œæ¢¯åº¦æ˜¯å„å±‚å¯¼æ•°çš„è¿ä¹˜ã€‚å¦‚æœæ¿€æ´»å‡½æ•°ï¼ˆå¦‚sigmoidæˆ–tanhï¼‰çš„å¯¼æ•°å°äº1ï¼Œè¿ç»­ç›¸ä¹˜åæ¢¯åº¦è¿…é€Ÿè¶‹è¿‘0ï¼Œå¯¼è‡´å‰é¢å±‚å‡ ä¹ä¸æ›´æ–°ï¼ˆå­¦ä¹ åœæ»ï¼‰ã€‚
+ **æ¿€æ´»å‡½æ•°é¥±å’Œ**  
æ¯”å¦‚sigmoidåœ¨è¾“å…¥è¿‡å¤§æˆ–è¿‡å°æ—¶æ¢¯åº¦æ¥è¿‘0ï¼Œè¿›ä¸€æ­¥åŠ å‰§æ¢¯åº¦æ¶ˆå¤±ã€‚
+ **æƒé‡åˆå§‹åŒ–ä¸åˆç†**  
åˆå§‹åŒ–æƒé‡è¿‡å°ä¹Ÿä¼šå¯¼è‡´ä¿¡å·é€æ­¥ç¼©å°ã€‚

#### **2. æ¢¯åº¦çˆ†ç‚¸çš„åŸå› **
+ **é“¾å¼æ³•åˆ™ç´¯ä¹˜å¯¼è‡´æ¢¯åº¦å‘æ•£**  
å¦‚æœæ¿€æ´»å‡½æ•°çš„å¯¼æ•°æˆ–æƒé‡å¤§äº1ï¼Œè¿ä¹˜åæ¢¯åº¦æŒ‡æ•°çº§å¢å¤§ï¼Œå¯¼è‡´æ¨¡å‹æƒé‡æ›´æ–°å‰§çƒˆï¼Œç”šè‡³æ•°å€¼æº¢å‡ºã€‚
+ **æƒé‡åˆå§‹åŒ–è¿‡å¤§**  
åˆå§‹æƒé‡åˆ†å¸ƒè¿‡å¤§æ”¾å¤§äº†ä¿¡å·ã€‚

### **é¢è¯•å›ç­”**
> æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸éƒ½æ˜¯å› ä¸ºåå‘ä¼ æ’­è¿‡ç¨‹ä¸­æ¢¯åº¦åœ¨å¤šå±‚ä¼ æ’­æ—¶ä¸æ–­è¿ä¹˜ï¼Œå¦‚æœè¿ä¹˜çš„å¯¼æ•°å°äº1å°±å¯¼è‡´æ¢¯åº¦æ¶ˆå¤±ï¼Œå¤§äº1åˆ™å¯¼è‡´æ¢¯åº¦çˆ†ç‚¸ã€‚å…¸å‹åŸå› åŒ…æ‹¬æ¿€æ´»å‡½æ•°é¥±å’Œï¼ˆæ¯”å¦‚sigmoidï¼‰ã€æƒé‡åˆå§‹åŒ–ä¸åˆç†å’Œç½‘ç»œè¿‡æ·±ã€‚
>

## è§£å†³æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸çš„æ–¹æ³•
### é—®é¢˜åˆ†æ
**â€œæ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸æ˜¯ç¥ç»ç½‘ç»œè®­ç»ƒä¸­å¸¸è§çš„é—®é¢˜ï¼Œä¸»è¦å‡ºç°åœ¨æ·±å±‚ç½‘ç»œæˆ–RNNä¸­ã€‚é’ˆå¯¹è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œé€šå¸¸ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å…¥æ‰‹è¿›è¡Œå¤„ç†ï¼šâ€**

#### 1. **æƒé‡åˆå§‹åŒ–**
+ ä½¿ç”¨åˆé€‚çš„åˆå§‹åŒ–æ–¹å¼å¯ä»¥ç¼“è§£æ¢¯åº¦é—®é¢˜ï¼š
    - å¯¹äºReLUï¼šä½¿ç”¨ **Heåˆå§‹åŒ–**ï¼›
    - å¯¹äºsigmoidæˆ–tanhï¼šä½¿ç”¨ **Xavieråˆå§‹åŒ–**ã€‚

#### 2. **ä½¿ç”¨åˆé€‚çš„æ¿€æ´»å‡½æ•°**
+ é¿å…ä½¿ç”¨å®¹æ˜“é¥±å’Œçš„æ¿€æ´»å‡½æ•°ï¼ˆå¦‚ sigmoidï¼‰ï¼›
+ ä¼˜å…ˆä½¿ç”¨ **ReLU** åŠå…¶å˜ç§ï¼ˆå¦‚ LeakyReLU, ELUï¼‰ï¼Œèƒ½æœ‰æ•ˆç¼“è§£æ¢¯åº¦æ¶ˆå¤±ã€‚

#### 3. **ä½¿ç”¨å½’ä¸€åŒ–æŠ€æœ¯**
+ **Batch Normalization**ï¼šèƒ½ä½¿æ¯ä¸€å±‚çš„è¾“å…¥ä¿æŒç¨³å®šï¼Œå‡ç¼“æ¢¯åº¦çˆ†ç‚¸æˆ–æ¶ˆå¤±ï¼›
+ **LayerNorm**ï¼ˆå°¤å…¶é€‚ç”¨äºRNNã€Transformerç»“æ„ï¼‰ã€‚

#### 4. **æ¢¯åº¦è£å‰ªï¼ˆGradient Clippingï¼‰**
+ **ä¸»è¦ç”¨äºRNNã€LSTM**ï¼Œåœ¨æ¢¯åº¦è¿‡å¤§æ—¶å°†å…¶é™åˆ¶åœ¨æŸä¸€èŒƒå›´å†…ï¼ˆå¦‚[-5, 5]ï¼‰ï¼›

#### 5. **åˆç†è®¾ç½®ç½‘ç»œç»“æ„**
+ å‡å°‘ä¸å¿…è¦çš„å±‚æ•°ï¼›
+ ä½¿ç”¨æ®‹å·®è¿æ¥ï¼ˆResidual Connectionï¼‰ï¼Œå¦‚ ResNetï¼Œæœ‰æ•ˆç¼“è§£æ¢¯åº¦æ¶ˆå¤±ã€‚

#### 6. **ä¼˜åŒ–å™¨çš„é€‰æ‹©**
+ åƒ **Adamã€RMSProp** ç­‰è‡ªé€‚åº”ä¼˜åŒ–å™¨ï¼Œå¯¹æ¢¯åº¦é—®é¢˜æœ‰ä¸€å®šç¼“è§£ä½œç”¨ï¼›

### é¢è¯•å›ç­”
> é¢å¯¹æ¢¯åº¦é—®é¢˜ï¼Œå¯ä»¥ä»åˆå§‹åŒ–ã€æ¿€æ´»å‡½æ•°ã€å½’ä¸€åŒ–ã€ç»“æ„è®¾è®¡ç­‰å¤šæ–¹é¢ç»¼åˆè€ƒè™‘ï¼Œç¡®ä¿ç½‘ç»œè®­ç»ƒç¨³å®šé«˜æ•ˆã€‚
>

## æ®‹å·®è¿æ¥å¦‚ä½•è§£å†³æ¢¯åº¦çˆ†ç‚¸å’Œæ¢¯åº¦æ¶ˆå¤±
### **é—®é¢˜åˆ†æ**
1. **æ®‹å·®è¿æ¥æ˜¯ä»€ä¹ˆï¼Ÿ**  
æ®‹å·®è¿æ¥æ˜¯åœ¨ç¥ç»ç½‘ç»œä¸­å¼•å…¥çš„ä¸€ç§è·³è·ƒå¼è¿æ¥æ–¹å¼ï¼Œå…¶å…¬å¼ä¸ºï¼š

![image](https://cdn.nlark.com/yuque/__latex/ad468cbdf005efb70b3060f37bc505c9.svg)

å…¶ä¸­ï¼Œ![image](https://cdn.nlark.com/yuque/__latex/a3803c9b72a55f8139079eb36aa883da.svg) æ˜¯è¦å­¦ä¹ çš„æ®‹å·®å‡½æ•°ï¼ˆé€šå¸¸æ˜¯è‹¥å¹²ä¸ªå·ç§¯å±‚ã€ReLUç­‰æ“ä½œï¼‰ï¼Œ![image](https://cdn.nlark.com/yuque/__latex/2adf48e1cf80858f0604d2b51eeed4b8.svg) æ˜¯è¾“å…¥ï¼Œç›´æ¥åŠ åˆ°è¾“å‡ºä¸Šã€‚

2. **æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸çš„æœ¬è´¨åŸå› **  
åœ¨ä¼ ç»Ÿæ·±å±‚ç¥ç»ç½‘ç»œä¸­ï¼Œæ¢¯åº¦åå‘ä¼ æ’­æ—¶éœ€è¦è¿ç»­ä¹˜å¤šä¸ªæ¢¯åº¦é¡¹ï¼ˆé“¾å¼æ³•åˆ™ï¼‰ï¼Œå¦‚æœæ¯å±‚çš„æ¢¯åº¦å€¼éƒ½å°äº 1ï¼ˆæˆ–å¤§äº 1ï¼‰ï¼Œå¤šæ¬¡ä¹˜ç§¯ä¼šå¯¼è‡´ï¼š
+ æ¢¯åº¦è¶Šæ¥è¶Šå° â†’ **æ¢¯åº¦æ¶ˆå¤±**
+ æ¢¯åº¦è¶Šæ¥è¶Šå¤§ â†’ **æ¢¯åº¦çˆ†ç‚¸**
3. **æ®‹å·®è¿æ¥å¦‚ä½•ç¼“è§£ï¼Ÿ**
+ åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œæ®‹å·®è¿æ¥å¼•å…¥çš„æ’ç­‰æ˜ å°„æä¾›äº†**ç›´æ¥è·¯å¾„**ï¼Œä½¿å¾—æ¢¯åº¦å¯ä»¥â€œç»•è¿‡â€å¤æ‚çš„éçº¿æ€§å˜æ¢ï¼Œç›´æ¥ä¼ æ’­åˆ°æ›´æµ…å±‚ï¼Œé¿å…äº†é•¿è·¯å¾„ä¸Šçš„æ¢¯åº¦è¿ä¹˜æ•ˆåº”ã€‚

æ•°å­¦ä¸Šï¼Œåå‘ä¼ æ’­æ¢¯åº¦å¯ä»¥è¡¨ç¤ºä¸ºï¼š

![image](https://cdn.nlark.com/yuque/__latex/3b30ed078fa983a19c63198030ca8ba1.svg)

å…¶ä¸­ï¼Œ![image](https://cdn.nlark.com/yuque/__latex/df53f70d20a6a901dfd6da9f6986b470.svg) æ˜¯å•ä½çŸ©é˜µï¼Œè¡¨ç¤ºæ’ç­‰æ˜ å°„ã€‚  
å³ä½¿ ![image](https://cdn.nlark.com/yuque/__latex/fb2e520265a45dd53d8aa560e0b96813.svg) å¾ˆå°æˆ–å¾ˆå¤§ï¼Œ**â€œ+Iâ€** ä¿è¯äº†æ¢¯åº¦è‡³å°‘å¯ä»¥ç¨³å®šåœ°ä¼ é€’ä¸‹å»ã€‚

4. **å®é™…æ•ˆæœ**
+ ä½¿å¾—ç½‘ç»œæ›´å®¹æ˜“è®­ç»ƒæ›´æ·±ï¼ˆæ¯”å¦‚ ResNet å¯ä»¥è®­ç»ƒ 152 å±‚ä»¥ä¸Šçš„ç½‘ç»œï¼‰
+ ç¼“è§£æ¢¯åº¦æ¶ˆå¤±ï¼Œç½‘ç»œä¸ä¼šå› ä¸ºæ·±åº¦å¢åŠ è€Œæ€§èƒ½ä¸‹é™ï¼ˆ**é€€åŒ–é—®é¢˜ degradation problem**ï¼‰

### **é¢è¯•å›ç­”**
> æ®‹å·®è¿æ¥ï¼ˆResidual Connectionï¼‰é€šè¿‡å¼•å…¥**æ’ç­‰æ˜ å°„ï¼ˆidentity mappingï¼‰**ï¼Œä½¿æ¢¯åº¦åœ¨åå‘ä¼ æ’­æ—¶å¯ä»¥ç›´æ¥æ²¿è·³è·ƒè·¯å¾„ï¼ˆshortcutï¼‰ä¼ æ’­ï¼Œä»è€Œç¼“è§£äº†æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨æ·±å±‚ç½‘ç»œä¸­ï¼Œæ®‹å·®ç»“æ„å¯ä»¥ç¡®ä¿æ¢¯åº¦ä¸ä¼šå› ä¸ºè¿ç»­éçº¿æ€§å˜æ¢è€Œè¿‡åº¦ç¼©å°æˆ–æ”¾å¤§ï¼Œä»è€Œä½¿æ·±å±‚ç½‘ç»œæ›´å®¹æ˜“ä¼˜åŒ–å’Œè®­ç»ƒã€‚
>

## å½’ä¸€åŒ–çš„ä½œç”¨
### **é—®é¢˜åˆ†æ**
1. **æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸äº§ç”Ÿçš„æœ¬è´¨åŸå› **
+ ç¥ç»ç½‘ç»œæ¯ä¸€å±‚çš„è¾“å‡ºç»è¿‡éçº¿æ€§å‡½æ•°å’Œæƒé‡å˜æ¢ï¼Œå¦‚æœè¾“å…¥åˆ†å¸ƒä¸ç¨³å®šï¼ˆæ–¹å·®è¿‡å¤§æˆ–è¿‡å°ï¼‰ï¼Œç»è¿‡å¤šå±‚ä¹‹åï¼Œæ¿€æ´»å€¼å’Œæ¢¯åº¦å¯èƒ½è¿…é€Ÿç¼©å°æˆ–æ‰©å¤§ â†’ é€ æˆæ¢¯åº¦æ¶ˆå¤±æˆ–çˆ†ç‚¸ã€‚
+ ç‰¹åˆ«åœ¨æ·±å±‚ç½‘ç»œä¸­ï¼Œè¿™ç§é—®é¢˜æ›´ä¸¥é‡ã€‚
2. **å½’ä¸€åŒ–æ€ä¹ˆåšçš„ï¼Ÿ**  
ä»¥ **Batch Normalization** ä¸ºä¾‹ï¼Œå¯¹æ¯ä¸€å±‚çš„ç‰¹å¾åšï¼š

![image](https://cdn.nlark.com/yuque/__latex/271c3576cd94fee8a3c312f44a650190.svg)

å…¶ä¸­ï¼Œ![image](https://cdn.nlark.com/yuque/__latex/756a643380ff53c0692dbc2e7e930a35.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/217d731c58118430ccbb4f9f6d44ce08.svg) æ˜¯ mini-batch ä¸­ç‰¹å¾çš„å‡å€¼å’Œæ–¹å·®ã€‚

â†’ ç»“æœï¼šè®©æ¿€æ´»å€¼åˆ†å¸ƒå‡å€¼ä¸º 0ï¼Œæ–¹å·®ä¸º 1ã€‚  
â†’ æ¿€æ´»å€¼ä¸ä¼šå› ä¸ºè¾“å…¥å˜åŒ–å‰§çƒˆè€Œåç¦»åˆç†èŒƒå›´ã€‚

3. **ä¸ºä»€ä¹ˆå½’ä¸€åŒ–å¯ä»¥ç¼“è§£æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸ï¼Ÿ**
+ **æ¿€æ´»å€¼ä¿æŒç¨³å®š**ï¼šå½’ä¸€åŒ–é™åˆ¶äº†æ¯ä¸€å±‚è¾“å‡ºçš„åˆ†å¸ƒèŒƒå›´ï¼Œä¸ä¼šå¿«é€Ÿæ”¾å¤§/ç¼©å°ï¼Œé¿å…äº†æ¿€æ´»å€¼çˆ†ç‚¸æˆ–æ¥è¿‘ 0 åŒºåŸŸï¼ˆæ¯”å¦‚ Sigmoid é¥±å’ŒåŒºï¼‰
+ **æ¢¯åº¦ä¿æŒç¨³å®š**ï¼šåå‘ä¼ æ’­æ—¶ï¼Œæ¢¯åº¦ä¸æ¿€æ´»å€¼ç›´æ¥ç›¸å…³ï¼Œæ¿€æ´»å€¼ç¨³å®š â†’ æ¢¯åº¦ä¸ä¼šå¿«é€Ÿè¡°å‡æˆ–çˆ†ç‚¸
+ **é™ä½å†…éƒ¨åå˜é‡åç§»ï¼ˆInternal Covariate Shiftï¼‰**ï¼šæ¯å±‚è¾“å…¥åˆ†å¸ƒç¨³å®šï¼Œè®­ç»ƒæ›´ç¨³å®šï¼Œå­¦ä¹ ç‡å¯ä»¥è®¾å¾—æ›´å¤§ï¼ŒåŠ é€Ÿæ”¶æ•›

### **é¢è¯•å›ç­”**
> å½’ä¸€åŒ–ï¼ˆNormalizationï¼‰é€šè¿‡æŠŠæ¯å±‚è¾“å…¥æˆ–ç‰¹å¾ç¼©æ”¾åˆ°å‡å€¼ä¸º 0ã€æ–¹å·®ä¸º 1 çš„åˆ†å¸ƒï¼Œä½¿å¾—ç½‘ç»œä¸­çš„æ¿€æ´»å€¼ä¿æŒåœ¨åˆç†èŒƒå›´ï¼Œä»è€Œé˜²æ­¢æ¢¯åº¦åœ¨å‰å‘ä¼ æ’­æˆ–åå‘ä¼ æ’­è¿‡ç¨‹ä¸­å› ä¸ºæ•°å€¼è¿‡å¤§æˆ–è¿‡å°å¯¼è‡´æ¢¯åº¦çˆ†ç‚¸æˆ–æ¢¯åº¦æ¶ˆå¤±ã€‚æ­¤å¤–ï¼Œå½’ä¸€åŒ–è®©æ¯å±‚çš„è¾“å…¥åˆ†å¸ƒæ›´ç¨³å®šï¼Œæœ‰åŠ©äºåŠ é€Ÿæ”¶æ•›å¹¶ç¨³å®šè®­ç»ƒã€‚
>

## ä¸ºä»€ä¹ˆsigmoidä¼šé¥±å’Œ  
### é—®é¢˜åˆ†æ
#### æ ‡å‡†å®šä¹‰
**Sigmoid æ¿€æ´»å‡½æ•°å…¬å¼ï¼š**  
Ïƒ(x) = 1 / (1 + e^(-x))  
è¾“å‡ºèŒƒå›´ï¼šï¼ˆ0, 1ï¼‰

#### ä¸ºä»€ä¹ˆ sigmoid ä¼šé¥±å’Œï¼Ÿ
1. **è¾“å…¥ç»å¯¹å€¼è¿‡å¤§æ—¶æ¢¯åº¦è¶‹è¿‘äº0**  
å½“è¾“å…¥ x å¾ˆå¤§ï¼ˆè¿œå¤§äº0ï¼‰æˆ–å¾ˆå°ï¼ˆè¿œå°äº0ï¼‰æ—¶ï¼š
    - x â†’ +âˆï¼ŒÏƒ(x) â†’ 1
    - x â†’ -âˆï¼ŒÏƒ(x) â†’ 0
2. **å¯¼æ•°å‡ ä¹ä¸º0**  
Sigmoid çš„å¯¼æ•°å…¬å¼ä¸ºï¼š  
Ïƒ'(x) = Ïƒ(x) * (1 - Ïƒ(x))  
å½“ Ïƒ(x) æ¥è¿‘ 0 æˆ– 1 æ—¶ï¼ŒÏƒ'(x) â‰ˆ 0
3. **æ¢¯åº¦æ¶ˆå¤±çš„ç›´æ¥æ¥æº**  
åå‘ä¼ æ’­æ—¶ï¼Œæ¢¯åº¦ä¹˜ä¸Šè¿™ä¹ˆå°çš„å¯¼æ•°ï¼Œä¿¡æ¯å‡ ä¹æ— æ³•å‘å‰å±‚ä¼ é€’ï¼Œç§°ä¸ºã€Œé¥±å’ŒåŒºã€ã€‚

### é¢è¯•ç®€æ´ç‰ˆå›ç­”æ¨¡æ¿
> Sigmoid åœ¨è¾“å…¥ç»å¯¹å€¼å¾ˆå¤§æ—¶è¾“å‡ºæ¥è¿‘0æˆ–1ï¼Œå¯¼æ•°æ¥è¿‘0ã€‚å¯¼æ•°æ¢¯åº¦å‡ ä¹ä¸ä¼ é€’ï¼Œè¿™å«åšé¥±å’Œï¼Œæœ€ç»ˆå¼•å‘æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚
>

## BatchNormå’ŒLayerNormæœ‰ä»€ä¹ˆåŒºåˆ«  
### é—®é¢˜åˆ†æ
| **ç»´åº¦** | **BatchNorm (BN)** | **LayerNorm (LN)** |
| --- | --- | --- |
| **å½’ä¸€åŒ–ç»´åº¦** | **æ ·æœ¬é—´å½’ä¸€åŒ–**ï¼ˆbatchç»´åº¦ï¼‰ | **æ ·æœ¬å†…å½’ä¸€åŒ–**ï¼ˆfeatureç»´åº¦ï¼‰ |
| **è®¡ç®—å…¬å¼** | å¯¹æ¯ä¸ªç‰¹å¾ç»´åº¦ kkk è®¡ç®—   Î¼å’ŒÏƒæ¥è‡ª**batchä¸­æ‰€æœ‰æ ·æœ¬** | å¯¹æ¯ä¸ªæ ·æœ¬ç‹¬ç«‹è®¡ç®—   Î¼å’ŒÏƒæ¥è‡ª**ç‰¹å¾ç»´åº¦** |
| **ä¾èµ– Batch Size** | **ä¾èµ– batch size**ï¼ˆå° batch æ—¶æ•ˆæœå·®ï¼‰ | **ä¸ä¾èµ– batch size** |
| **åº”ç”¨åœºæ™¯** | CNNã€MLP ä¸­å¸¸ç”¨ | Transformerã€RNN ä¸­å¸¸ç”¨ |
| **å…¬å¼ç¤ºä¾‹** | ![](https://cdn.nlark.com/yuque/0/2025/png/28454971/1747120558875-3c870317-8fda-475f-8ece-dd7c4937bf80.png) | ![](https://cdn.nlark.com/yuque/0/2025/png/28454971/1747120568287-867c030b-3b85-4d68-89b0-8d2233db2ffd.png) |
| **è¿è¡Œæ—¶ç»Ÿè®¡ï¼ˆæ¨ç†é˜¶æ®µï¼‰** | éœ€è¦ä¿å­˜ moving mean/var | ä¸éœ€è¦é¢å¤–ç»Ÿè®¡ |


### **é¢è¯•å›ç­”**
> BatchNorm å¯¹ batch ç»´åº¦å½’ä¸€åŒ–ï¼Œä¾èµ–å¤šä¸ªæ ·æœ¬ï¼Œé€‚åˆ CNNï¼Œä½†å¯¹å° batch æ•æ„Ÿï¼›LayerNorm å¯¹å•ä¸ªæ ·æœ¬ç‰¹å¾å½’ä¸€åŒ–ï¼Œä¸ä¾èµ– batch sizeï¼Œæ›´é€‚åˆ RNN å’Œ Transformer ç­‰åºåˆ—æ¨¡å‹ã€‚
>

## dropoutçš„ä½œç”¨æ˜¯ä»€ä¹ˆ  
### **é—®é¢˜åˆ†æ**
**Dropout æ˜¯ä¸€ç§æ­£åˆ™åŒ–æ–¹æ³•ï¼Œä¸»è¦ä½œç”¨æ˜¯é˜²æ­¢è¿‡æ‹Ÿåˆ (overfitting)ã€‚**

#### **æ ¸å¿ƒåŸç†**
+ è®­ç»ƒæ—¶ï¼Œ**ä»¥ä¸€å®šæ¦‚ç‡éšæœºä¸¢å¼ƒç¥ç»å…ƒ**ï¼ˆå³è®¾ä¸º0ï¼‰ï¼Œè®©æ¨¡å‹ä¸èƒ½è¿‡åº¦ä¾èµ–æŸäº›ç‰¹å¾
+ è¿™æ ·æ¯æ¬¡è®­ç»ƒéƒ½ç›¸å½“äºåœ¨ä¸åŒçš„ã€Œå­ç½‘ç»œã€ä¸Šæ›´æ–°å‚æ•°  
â†’ **ç›¸å½“äºé›†æˆå¤šä¸ªæ¨¡å‹ (model ensemble)**  
â†’ æå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›

#### **æ•°å­¦è¡¨è¾¾**
è®­ç»ƒæ—¶ï¼š

x~=xâ‹…m,mâˆ¼Bernoulli(p)

pä¸ºä¿ç•™æ¦‚ç‡ (keep probability)

æ¨ç†æ—¶ï¼š

+ ä¸ä¸¢èŠ‚ç‚¹ï¼Œè¾“å‡ºä¹˜ä»¥ ppp çš„ç¼©æ”¾è¡¥å¿ï¼ˆä¿æŒæœŸæœ›ä¸€è‡´ï¼‰

### **é¢è¯•å›ç­”**
> Dropout é€šè¿‡è®­ç»ƒæ—¶éšæœºä¸¢å¼ƒç¥ç»å…ƒï¼Œé˜²æ­¢æ¨¡å‹è¿‡åº¦ä¾èµ–å±€éƒ¨ç‰¹å¾ï¼Œç›¸å½“äºé›†æˆå¤šä¸ªå­ç½‘ç»œï¼Œä¸»è¦ä½œç”¨æ˜¯é™ä½è¿‡æ‹Ÿåˆã€æå‡æ³›åŒ–èƒ½åŠ›ã€‚
>

### **å¦‚æœé¢è¯•å®˜è¿½é—®ã€Œä¸ºä»€ä¹ˆ Dropout èƒ½é˜²æ­¢è¿‡æ‹Ÿåˆï¼Ÿã€**
> å› ä¸º Dropout è¿«ä½¿ç½‘ç»œå­¦åˆ°å†—ä½™ä¸”æ›´é²æ£’çš„ç‰¹å¾è¡¨è¾¾ï¼Œä¸ä¾èµ–å•ä¸€ç¥ç»å…ƒï¼ŒåŒæ—¶ç›¸å½“äºé›†æˆå¤šä¸ªå­æ¨¡å‹ï¼Œå¢å¼ºæ¨¡å‹ç¨³å®šæ€§ã€‚
>

## ä»€ä¹ˆæ˜¯ç¥ç»å…ƒå’Œæ¿€æ´»å‡½æ•°ï¼ˆ**ä¸ºä»€ä¹ˆè¦å¼•å…¥æ¿€æ´»å‡½æ•°**ï¼‰
### **é¢è¯•å›ç­”**
> ç¥ç»å…ƒæ˜¯ç¥ç»ç½‘ç»œçš„åŸºæœ¬è®¡ç®—å•å…ƒï¼Œä¸»è¦ä½œç”¨æ˜¯å¯¹è¾“å…¥ç‰¹å¾åŠ æƒæ•´åˆå¹¶å¼•å…¥éçº¿æ€§ï¼Œä»è€Œå¸®åŠ©æ¨¡å‹æå–å’Œç»„åˆå¤æ‚ç‰¹å¾ã€‚åœ¨ä¸åŒç½‘ç»œä¸­ï¼Œç¥ç»å…ƒå½¢å¼ä¸åŒï¼šMLP ä¸­æ˜¯å…¨è¿æ¥ï¼ŒCNN ä¸­æ˜¯å±€éƒ¨æ„Ÿå—é‡ï¼ŒRNN ä¸­æœ‰æ—¶é—´ä¾èµ–ï¼ŒTransformer ç»“åˆè‡ªæ³¨æ„åŠ›å»ºæ¨¡å…¨å±€å…³ç³»ã€‚
>
> æ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œç¥ç»ç½‘ç»œåªæ˜¯çº¿æ€§æ¨¡å‹ï¼Œæ— æ³•æ‹Ÿåˆå¤æ‚éçº¿æ€§é—®é¢˜ï¼›æ¿€æ´»å‡½æ•°ä½¿æ¨¡å‹å…·æœ‰éçº¿æ€§è¡¨è¾¾èƒ½åŠ›ï¼Œä»è€Œå¢å¼ºæ¨¡å‹æ‹Ÿåˆèƒ½åŠ›ã€‚
>

## æ± åŒ–çš„ä½œç”¨æ˜¯ä»€ä¹ˆ  
### é—®é¢˜åˆ†æ
æ± åŒ–ï¼ˆ**Pooling**ï¼‰æ˜¯å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ä¸­çš„ä¸€ç§é‡è¦æ“ä½œï¼Œä¸»è¦ç”¨äºå‡å°‘ç©ºé—´å°ºå¯¸ã€æ§åˆ¶è®¡ç®—é‡ã€æé«˜æ¨¡å‹çš„é²æ£’æ€§ï¼Œä¸”å¸¸ç”¨äº **å·ç§¯å±‚** å’Œ **å…¨è¿æ¥å±‚** ä¹‹é—´ã€‚å…¶æ ¸å¿ƒä½œç”¨æ˜¯é€šè¿‡æ±‡èšç‰¹å¾å›¾ä¸­çš„ä¿¡æ¯ï¼Œå‡å°‘å‚æ•°æ•°é‡å’Œè®¡ç®—å¤æ‚åº¦ï¼Œå¹¶å¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚

#### æ± åŒ–çš„ä¸»è¦ä½œç”¨
1. **é™ä½è®¡ç®—å¤æ‚åº¦**
    - æ± åŒ–æ“ä½œé€šè¿‡å‡å°ç‰¹å¾å›¾çš„ç©ºé—´ç»´åº¦ï¼ˆä¾‹å¦‚ï¼Œä» ![image](https://cdn.nlark.com/yuque/__latex/a11ea46280669ac0bf8afdac4019d77f.svg) é™åˆ° ![image](https://cdn.nlark.com/yuque/__latex/5c8213948b3250fd57bd3a27a4232c6a.svg)ï¼‰ï¼Œ**å‡å°‘äº†åç»­å±‚çš„è®¡ç®—é‡**ã€‚
    - è¿™æ ·å¯ä»¥å‡å°‘å†…å­˜æ¶ˆè€—å¹¶åŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ã€‚
2. **æ§åˆ¶è¿‡æ‹Ÿåˆ**
    - æ± åŒ–å±‚é€šè¿‡é™ä½ç‰¹å¾å›¾çš„åˆ†è¾¨ç‡ï¼Œ**ä½¿å¾—æ¨¡å‹æ›´å…·é²æ£’æ€§**ï¼Œé™ä½äº†å¯¹å±€éƒ¨ç‰¹å¾çš„ä¾èµ–ï¼Œé—´æ¥åœ°å¯¹æ¨¡å‹èµ·åˆ°äº†æ­£åˆ™åŒ–ä½œç”¨ï¼Œä»è€Œå‡å°‘äº†è¿‡æ‹Ÿåˆçš„é£é™©ã€‚
3. **ä¿ç•™é‡è¦ç‰¹å¾**
    - æ± åŒ–æ“ä½œèƒ½å¤Ÿèšç„¦å›¾åƒä¸­çš„é‡è¦ä¿¡æ¯ï¼Œå¹¶ä¸¢å¼ƒè¾ƒä¸é‡è¦çš„éƒ¨åˆ†ï¼Œä½¿å¾—å·ç§¯ç½‘ç»œæ›´åŠ ä¸“æ³¨äºå›¾åƒçš„å…³é”®ä¿¡æ¯ã€‚
    - å¸¸è§çš„æ± åŒ–æ“ä½œï¼ˆå¦‚æœ€å¤§æ± åŒ–ï¼‰é€šè¿‡é€‰å–å±€éƒ¨åŒºåŸŸå†…çš„æœ€å¤§å€¼æ¥ä¿ç•™é‡è¦ç‰¹å¾ã€‚
4. **å¢å¼ºæ¨¡å‹çš„å¹³ç§»ä¸å˜æ€§**
    - æ± åŒ–å¯ä»¥è®©ç½‘ç»œå¯¹è¾“å…¥å›¾åƒçš„å¹³ç§»äº§ç”Ÿè¾ƒå°çš„æ•æ„Ÿåº¦ï¼Œæå‡äº†**å¹³ç§»ä¸å˜æ€§**ã€‚è¿™æ„å‘³ç€ç½‘ç»œå¯¹å›¾åƒä¸­çš„å°çš„å¹³ç§»å˜æ¢ä¸å†è¿‡äºæ•æ„Ÿï¼Œèƒ½å¤Ÿæ›´å¥½åœ°å¤„ç†å›¾åƒä¸­ä½ç½®çš„å˜åŒ–ã€‚

#### å¸¸è§æ± åŒ–ç±»å‹
1. **æœ€å¤§æ± åŒ–ï¼ˆMax Poolingï¼‰**
    - å¯¹å±€éƒ¨åŒºåŸŸï¼ˆé€šå¸¸ä¸º ![image](https://cdn.nlark.com/yuque/__latex/829db47d500df094775efa8c62bdd9ea.svg) æˆ– ![image](https://cdn.nlark.com/yuque/__latex/b08d861763b277c3ff6c7f92bc62b06c.svg)ï¼‰ä¸­çš„æœ€å¤§å€¼è¿›è¡Œæ± åŒ–ã€‚
    - **ä½œç”¨**ï¼šä¿ç•™è¯¥åŒºåŸŸçš„æœ€æ˜¾è‘—ç‰¹å¾ï¼Œå¢å¼ºç½‘ç»œå¯¹å…³é”®ç‰¹å¾çš„è¯†åˆ«èƒ½åŠ›ã€‚

![image](https://cdn.nlark.com/yuque/__latex/6455d3f5235d607e9cd9c7ca4c558aa5.svg)

   ä¾‹å¦‚ï¼Œå¯¹ä¸€ä¸ª ![image](https://cdn.nlark.com/yuque/__latex/829db47d500df094775efa8c62bdd9ea.svg) åŒºåŸŸè¿›è¡Œæœ€å¤§æ± åŒ–ï¼š

![image](https://cdn.nlark.com/yuque/__latex/63368eaaccf1d974e01d74a9d5016138.svg)

2. **å¹³å‡æ± åŒ–ï¼ˆAverage Poolingï¼‰**
    - å¯¹å±€éƒ¨åŒºåŸŸä¸­çš„æ‰€æœ‰å€¼å–å¹³å‡å€¼è¿›è¡Œæ± åŒ–ã€‚
    - **ä½œç”¨**ï¼šå¹³æ»‘ç‰¹å¾å›¾ï¼Œå‡å°æç«¯å€¼çš„å½±å“ï¼Œå¸¸ç”¨äºå¯¹ç‰¹å¾å›¾çš„å¹³æ»‘å¤„ç†ã€‚

![image](https://cdn.nlark.com/yuque/__latex/0c4a9a856138df063c36273c5ab365e5.svg)

   ä¾‹å¦‚ï¼Œå¯¹ä¸€ä¸ª ![image](https://cdn.nlark.com/yuque/__latex/829db47d500df094775efa8c62bdd9ea.svg) åŒºåŸŸè¿›è¡Œå¹³å‡æ± åŒ–ï¼š

![image](https://cdn.nlark.com/yuque/__latex/cd8dc4611575742ffbbdeac5d33b6d23.svg)

3. **å…¨å±€æ± åŒ–ï¼ˆGlobal Poolingï¼‰**
    - å¯¹æ•´ä¸ªç‰¹å¾å›¾è¿›è¡Œæ± åŒ–ï¼Œé€šå¸¸ç”¨äºç½‘ç»œçš„æœ€åå‡ å±‚ã€‚
    - å¦‚ **å…¨å±€æœ€å¤§æ± åŒ–** å’Œ **å…¨å±€å¹³å‡æ± åŒ–**ï¼Œå¯ä»¥å°†æ•´ä¸ªç‰¹å¾å›¾å‹ç¼©æˆä¸€ä¸ªå•ä¸€çš„å€¼ã€‚

![image](https://cdn.nlark.com/yuque/__latex/dea742c543cbeabf91bd46e4645b3ba4.svg)

![image](https://cdn.nlark.com/yuque/__latex/06c9e472213684f7afff2e45e207b3ec.svg)

### **é¢è¯•å›ç­”**
> **æ± åŒ–**ä¸»è¦é€šè¿‡å‡å°‘ç‰¹å¾å›¾çš„ç©ºé—´ç»´åº¦ï¼Œ**é™ä½è®¡ç®—é‡**ï¼Œ**å¢å¼ºé²æ£’æ€§**ï¼Œ**é˜²æ­¢è¿‡æ‹Ÿåˆ**ï¼Œå¹¶ä¸”å¸®åŠ©æé«˜**å¹³ç§»ä¸å˜æ€§**ã€‚å¸¸è§çš„æ± åŒ–æ–¹å¼æœ‰æœ€å¤§æ± åŒ–å’Œå¹³å‡æ± åŒ–ï¼Œæœ€å¤§æ± åŒ–ä¿ç•™åŒºåŸŸå†…çš„æœ€å¤§ç‰¹å¾ï¼Œè€Œå¹³å‡æ± åŒ–åˆ™è®¡ç®—åŒºåŸŸå†…çš„å¹³å‡å€¼ã€‚
>

### **å¦‚æœé¢è¯•å®˜è¿½é—®ã€Œæ± åŒ–å’Œå·ç§¯çš„åŒºåˆ«ã€**
> **å·ç§¯**æ˜¯ç‰¹å¾æå–çš„æ“ä½œï¼Œèƒ½å¤Ÿä¿ç•™å±€éƒ¨ä¿¡æ¯å¹¶é€šè¿‡å­¦ä¹ å·ç§¯æ ¸æ¥æå–ä¸åŒå±‚æ¬¡çš„ç‰¹å¾ï¼›è€Œ**æ± åŒ–**æ˜¯é™ç»´æ“ä½œï¼Œä¸»è¦ç”¨äºå‡å°‘è®¡ç®—é‡ã€é™ä½ç‰¹å¾å›¾ç»´åº¦ï¼Œå¹¶ä¸”å¸®åŠ©å¢å¼ºç‰¹å¾çš„é²æ£’æ€§ã€‚æ± åŒ–é€šå¸¸è·Ÿåœ¨å·ç§¯å±‚ä¹‹åã€‚
>



## ä»€ä¹ˆæ˜¯å¹³ç§»ä¸å˜æ€§
### é—®é¢˜åˆ†æ
**å¹³ç§»ä¸å˜æ€§ï¼ˆTranslation Invarianceï¼‰** æ˜¯æŒ‡ä¸€ä¸ªæ¨¡å‹æˆ–ç®—æ³•å¯¹è¾“å…¥çš„å¹³ç§»ï¼ˆä½ç½®åç§»ï¼‰ä¸æ•æ„Ÿï¼Œå³æ¨¡å‹èƒ½å¤Ÿè¯†åˆ«å‡ºç‰©ä½“çš„ç‰¹å¾æˆ–æ¨¡å¼ï¼Œè€Œä¸å—ç‰©ä½“åœ¨å›¾åƒä¸­çš„ä½ç½®å˜åŒ–çš„å½±å“ã€‚

åœ¨è®¡ç®—æœºè§†è§‰ä¸­ï¼Œ**å¹³ç§»ä¸å˜æ€§**æ„å‘³ç€å¦‚æœå›¾åƒä¸­çš„å¯¹è±¡å‘ç”Ÿäº†å¹³ç§»ï¼ˆä¾‹å¦‚ï¼Œç‰©ä½“ä»å·¦è¾¹ç§»åŠ¨åˆ°å³è¾¹ï¼‰ï¼Œç¥ç»ç½‘ç»œä»ç„¶èƒ½å¤Ÿæ­£ç¡®åœ°è¯†åˆ«å‡ºè¯¥å¯¹è±¡ï¼Œè€Œä¸éœ€è¦é‡æ–°å­¦ä¹ ä½ç½®ç›¸å…³çš„ç‰¹å¾ã€‚

#### ä¸ºä»€ä¹ˆå¹³ç§»ä¸å˜æ€§é‡è¦ï¼Ÿ
+ **è‡ªç„¶ç•Œçš„ç‰©ä½“å¹¶ä¸ä¼šæ€»æ˜¯å‡ºç°åœ¨åŒä¸€ä¸ªä½ç½®**ã€‚ä¾‹å¦‚ï¼Œå›¾åƒä¸­çš„çŒ«å¯èƒ½å‡ºç°åœ¨å·¦ä¾§ã€ä¸­é—´æˆ–å³ä¾§ï¼Œä½†æˆ‘ä»¬å¸Œæœ›æ¨¡å‹èƒ½å¤Ÿå§‹ç»ˆè¯†åˆ«å‡ºçŒ«ï¼Œè€Œä¸å—å…¶ä½ç½®å˜åŒ–çš„å½±å“ã€‚
+ **æé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›**ï¼Œè®©å®ƒèƒ½å¤„ç†ä¸åŒä½ç½®çš„ç‰©ä½“ï¼Œå¹¶ä¸”ä½¿å¾—æ¨¡å‹å¯¹ä½ç½®ä¿¡æ¯çš„ä¾èµ–è¾ƒå°ã€‚

#### å¹³ç§»ä¸å˜æ€§å¦‚ä½•é€šè¿‡æ± åŒ–å’Œå·ç§¯å®ç°ï¼Ÿ
1. **å·ç§¯æ“ä½œ**ï¼š
    - å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰é€šè¿‡ä½¿ç”¨å…±äº«çš„å·ç§¯æ ¸ï¼ˆæ»¤æ³¢å™¨ï¼‰æ¥æå–å›¾åƒç‰¹å¾ã€‚å·ç§¯æ ¸åœ¨æ•´ä¸ªå›¾åƒä¸Šæ»‘åŠ¨ï¼Œå¹¶å¯¹æ¯ä¸ªåŒºåŸŸè¿›è¡Œç›¸åŒçš„æ“ä½œï¼Œä»è€Œä½¿ç½‘ç»œèƒ½å¤Ÿåœ¨å›¾åƒä¸­è¯†åˆ«ç‰¹å®šçš„ç‰¹å¾ï¼ˆä¾‹å¦‚è¾¹ç¼˜ã€çº¹ç†ç­‰ï¼‰ï¼Œæ— è®ºè¿™äº›ç‰¹å¾å‡ºç°çš„ä½ç½®å¦‚ä½•ã€‚
    - å·ç§¯æ“ä½œå¤©ç„¶å…·æœ‰**å±€éƒ¨å¹³ç§»ä¸å˜æ€§**ã€‚å³ä½¿å›¾åƒä¸­çš„ç‰©ä½“å‘ç”Ÿäº†å¹³ç§»ï¼Œå·ç§¯å±‚ä»ç„¶èƒ½å¤Ÿæ£€æµ‹åˆ°ç›¸åŒçš„ç‰¹å¾ã€‚
2. **æ± åŒ–æ“ä½œ**ï¼š
    - æ± åŒ–æ“ä½œï¼Œå°¤å…¶æ˜¯ **æœ€å¤§æ± åŒ–ï¼ˆMax Poolingï¼‰**ï¼Œé€šè¿‡åœ¨ç‰¹å®šçš„å±€éƒ¨åŒºåŸŸå†…é€‰å–æœ€å¤§å€¼æˆ–å¹³å‡å€¼æ¥é™ä½ç‰¹å¾å›¾çš„åˆ†è¾¨ç‡ã€‚
    - è¿™ä¸€è¿‡ç¨‹å¸®åŠ©æé«˜å¹³ç§»ä¸å˜æ€§ï¼Œå› ä¸ºå®ƒå‡å°äº†å¾®å°çš„ç©ºé—´åç§»ï¼ˆä¾‹å¦‚ï¼Œç‰©ä½“çš„è½»å¾®å¹³ç§»ï¼‰å¯¹ç‰¹å¾è¡¨ç¤ºçš„å½±å“ã€‚
    - ä¾‹å¦‚ï¼Œåœ¨è¿›è¡Œæœ€å¤§æ± åŒ–æ—¶ï¼Œå¦‚æœå›¾åƒçš„ä¸€ä¸ªç‰¹å¾åŒºåŸŸå‘ç”Ÿäº†å¹³ç§»ï¼Œä½†è¿™ä¸ªåŒºåŸŸä¸­çš„æœ€å¤§å€¼ä¿æŒä¸å˜ï¼Œé‚£ä¹ˆæ± åŒ–å±‚ä¾ç„¶èƒ½å¤Ÿè¯†åˆ«è¿™ä¸ªç‰¹å¾ã€‚

#### å¹³ç§»ä¸å˜æ€§çš„ç¤ºæ„
å‡è®¾æœ‰ä¸€å¼ çŒ«çš„å›¾ç‰‡ï¼Œæ— è®ºçŒ«å‡ºç°åœ¨å·¦ä¸Šè§’ã€ä¸­é—´ï¼Œè¿˜æ˜¯å³ä¸‹è§’ï¼Œå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰é€šè¿‡å…¶å·ç§¯å’Œæ± åŒ–å±‚ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°è¯†åˆ«çŒ«çš„ç‰¹å¾ã€‚è¿™æ˜¯å› ä¸ºå·ç§¯æ“ä½œä¼šæå–å±€éƒ¨ç‰¹å¾ï¼ˆä¾‹å¦‚ï¼Œè€³æœµã€çœ¼ç›ã€è½®å»“ç­‰ï¼‰ï¼Œè€Œæ± åŒ–æ“ä½œåˆ™å¸®åŠ©å‡å°‘ä½ç½®ä¿¡æ¯çš„å½±å“ï¼Œç¡®ä¿æ¨¡å‹å¯¹å¹³ç§»ä¸æ•æ„Ÿã€‚

### **é¢è¯•å›ç­”**
> **å¹³ç§»ä¸å˜æ€§**æ˜¯æŒ‡æ¨¡å‹èƒ½å¤Ÿè¯†åˆ«å‡ºè¾“å…¥ç‰¹å¾æˆ–ç‰©ä½“ï¼Œè€Œä¸å—ç‰©ä½“åœ¨å›¾åƒä¸­çš„ä½ç½®å˜åŒ–çš„å½±å“ã€‚åœ¨å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ä¸­ï¼Œå·ç§¯å±‚å’Œæ± åŒ–å±‚è‡ªç„¶å…·æœ‰å¹³ç§»ä¸å˜æ€§ï¼Œå› ä¸ºå·ç§¯æ“ä½œæå–å±€éƒ¨ç‰¹å¾ï¼Œæ± åŒ–æ“ä½œåˆ™é€šè¿‡é™ç»´æ¥å‡å°‘ä½ç§»å¯¹ç‰¹å¾çš„å½±å“ã€‚
>

## BERT æ¨¡å‹
### **é—®é¢˜åˆ†æ**
BERTï¼Œå…¨ç§° **Bidirectional Encoder Representations from Transformers**ï¼Œç”± Google 2018 å¹´æå‡ºï¼Œæ˜¯ä¸€ç§åŸºäº Transformer ç¼–ç å™¨çš„**é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹**ã€‚

**ä¸»è¦ç‰¹ç‚¹æœ‰ 3 ç‚¹ï¼š**

1. **åŒå‘ç¼–ç **ï¼šç›¸æ¯”ä¼ ç»Ÿè¯­è¨€æ¨¡å‹åªä»å·¦åˆ°å³ï¼ŒBERT ä½¿ç”¨**Masked Language Model (MLM)**ï¼Œå¯ä»¥åŒæ—¶åˆ©ç”¨å·¦å³ä¸Šä¸‹æ–‡ç†è§£è¯è¯­å«ä¹‰ã€‚
2. **é¢„è®­ç»ƒ+å¾®è°ƒ**æ¡†æ¶ï¼šBERT åœ¨å¤§è§„æ¨¡è¯­æ–™ï¼ˆå¦‚ Wikipedia + BookCorpusï¼‰ä¸Šé¢„è®­ç»ƒåï¼Œå¯ä»¥è¿ç§»åˆ°å…·ä½“ä»»åŠ¡ï¼ˆå¦‚åˆ†ç±»ã€é—®ç­”ï¼‰è¿›è¡Œå¾®è°ƒï¼Œæ•ˆæœä¼˜å¼‚ã€‚
3. **è¾“å…¥è¡¨ç¤º**ï¼šBERT è¾“å…¥ä¸ä»…æœ‰è¯å‘é‡ï¼Œè¿˜æœ‰**Segment Embedding** å’Œ **Position Embedding**ï¼Œå¯åŒæ—¶å¤„ç†å•å¥æˆ–å¥å­å¯¹ä»»åŠ¡ã€‚

å…¸å‹åº”ç”¨ï¼šæ–‡æœ¬åˆ†ç±»ã€å‘½åå®ä½“è¯†åˆ«ï¼ˆNERï¼‰ã€é˜…è¯»ç†è§£ã€å¥å­åŒ¹é…ç­‰ã€‚

### **é¢è¯•å›ç­”**
> BERTï¼ˆBidirectional Encoder Representations from Transformersï¼‰æ˜¯ä¸€ç§åŸºäº Transformer ç¼–ç å™¨çš„é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼Œç‰¹ç‚¹æ˜¯**åŒå‘ä¸Šä¸‹æ–‡å»ºæ¨¡**ï¼Œå¯ä»¥æ›´å¥½ç†è§£å¥å­è¯­ä¹‰ã€‚BERT å…ˆç”¨**å¤§è§„æ¨¡æ–‡æœ¬é¢„è®­ç»ƒ**ï¼Œå†é€šè¿‡**ä¸‹æ¸¸ä»»åŠ¡å¾®è°ƒ**ï¼Œå¹¿æ³›åº”ç”¨äºæ–‡æœ¬åˆ†ç±»ã€é—®ç­”ç­‰ä»»åŠ¡ã€‚BERT é€šè¿‡ Masked Language Model å’Œ Next Sentence Prediction ä¸¤ä¸ªé¢„è®­ç»ƒç›®æ ‡ï¼Œæ•æ‰äº†è¯çº§åˆ«å’Œå¥å­çº§åˆ«çš„å…³ç³»ã€‚ç»­å¦‚ RoBERTaã€ALBERTã€DistilBERT éƒ½åœ¨ BERT åŸºç¡€ä¸Šè¿›ä¸€æ­¥ä¼˜åŒ–æ¨¡å‹è§„æ¨¡ã€æ•ˆç‡å’Œæ€§èƒ½ã€‚BERT é€šè¿‡åŒå‘é¢„è®­ç»ƒå’Œçµæ´»å¾®è°ƒï¼Œæ˜¾è‘—æ¨åŠ¨äº† NLP ä»»åŠ¡æ•ˆæœï¼Œå±äºé¢„è®­ç»ƒè¯­è¨€æ¨¡å‹çš„é‡Œç¨‹ç¢‘å·¥ä½œã€‚
>

### BERTè®­ç»ƒä»»åŠ¡
ã€ŒBERT æ˜¯é€šè¿‡è‡ªç›‘ç£å­¦ä¹ è¿›è¡Œè®­ç»ƒçš„ï¼Œæ ¸å¿ƒçš„è®­ç»ƒä»»åŠ¡æœ‰ä¸¤ä¸ªï¼š**æ©è”½è¯­è¨€æ¨¡å‹ (MLM)** å’Œ **ä¸‹ä¸€å¥é¢„æµ‹ (NSP)**ã€‚

+ åœ¨ MLM ä¸­ï¼Œéšæœºæ©è”½è¾“å…¥å¥å­ä¸­çš„ä¸€äº›è¯ï¼Œæ¨¡å‹é€šè¿‡ä¸Šä¸‹æ–‡é¢„æµ‹è¿™äº›è¢«æ©è”½çš„è¯ã€‚
+ åœ¨ NSP ä¸­ï¼Œæ¨¡å‹åˆ¤æ–­ä¸¤ä¸ªå¥å­æ˜¯å¦æ˜¯è¿ç»­çš„ï¼Œä»è€Œå­¦ä¹ å¥å­çº§åˆ«çš„å…³ç³»ã€‚  
BERT çš„è®­ç»ƒæ•°æ®é€šè¿‡å¤§è§„æ¨¡è¯­æ–™åº“ç”Ÿæˆï¼Œå¹¶æ ¹æ®è¿™äº›ä»»åŠ¡æ„å»ºæ©è”½å’Œå¥å­å¯¹ï¼Œè¿›è¡Œæ— ç›‘ç£çš„é¢„è®­ç»ƒã€‚ã€

## Transformer
### **é—®é¢˜åˆ†æ**
Transformer æ˜¯ Google 2017 å¹´æå‡ºçš„æ¨¡å‹æ¶æ„ï¼Œç‰¹ç‚¹æ˜¯ä¸ä¾èµ–å¾ªç¯ï¼ˆRNNï¼‰ï¼Œå®Œå…¨åŸºäº**æ³¨æ„åŠ›æœºåˆ¶**ï¼ŒåŒæ—¶å¹¶è¡Œè®¡ç®—æ•ˆç‡é«˜ï¼Œå¹¿æ³›åº”ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†å’Œè®¡ç®—æœºè§†è§‰ã€‚

Transformer ä¸»è¦åˆ†ä¸º**ç¼–ç å™¨ (Encoder)** å’Œ**è§£ç å™¨ (Decoder)** ä¸¤éƒ¨åˆ†ï¼Œæ•´ä½“ç”±å¤šä¸ªå †å çš„å­å±‚ç»„æˆã€‚

#### **Encoder ç»“æ„**
æ¯ä¸ª Encoder Layer åŒ…å«ï¼š

1. **å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ (Multi-Head Self Attention)**
2. **å‰å‘å…¨è¿æ¥å±‚ (Feed-Forward Network, FFN)**
3. **æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ– (Residual + LayerNorm)**

#### **Decoder ç»“æ„**
æ¯ä¸ª Decoder Layer å¤šäº†ä¸€ä¸ªæ¨¡å—ï¼ŒåŒ…å«ï¼š

1. **Masked å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ (Masked Multi-Head Self Attention)**
2. **Encoder-Decoder Attention**ï¼ˆç”¨äºå…³æ³¨ Encoder è¾“å‡ºï¼‰
3. **å‰å‘å…¨è¿æ¥å±‚ (FFN)**
4. **æ®‹å·®è¿æ¥ + å±‚å½’ä¸€åŒ–**

#### **æ ¸å¿ƒåŸç† â€” æ³¨æ„åŠ›æœºåˆ¶ (Attention)**
æ³¨æ„åŠ›æœºåˆ¶æœ¬è´¨ä¸Šé€šè¿‡**Query-Key-Value** è®¡ç®—åºåˆ—å†…éƒ¨å„ä¸ªè¯ä¹‹é—´çš„å…³ç³»æƒé‡ï¼š

```plain
Attention(Q, K, V) = softmax(QKáµ€ / âˆšd_k) * V
```

è¿™ä½¿å¾—æ¨¡å‹å¯ä»¥åŠ¨æ€å…³æ³¨è¾“å…¥åºåˆ—ä¸­ä¸å½“å‰è¯æœ€ç›¸å…³çš„ä¿¡æ¯ã€‚

#### **å¤šå¤´æœºåˆ¶ (Multi-Head)**
å°†æ³¨æ„åŠ›æœºåˆ¶å¹¶è¡Œåˆ†æˆå¤šä¸ªå­ç©ºé—´ï¼ˆå¤šä¸ªå¤´ï¼‰ï¼Œå¢å¼ºæ¨¡å‹æ•æ‰å¤šç²’åº¦ç‰¹å¾çš„èƒ½åŠ›ï¼Œæœ€åæ‹¼æ¥èåˆã€‚

#### **ä½ç½®ç¼–ç  (Positional Encoding)**
å› ä¸º Transformer ä¸åƒ RNN æœ‰é¡ºåºæ€§ï¼Œä½ç½®ç¼–ç  (Positional Encoding) ç”¨äºå¼•å…¥åºåˆ—ä½ç½®ä¿¡æ¯ï¼Œé€šå¸¸é‡‡ç”¨æ­£ä½™å¼¦å‡½æ•°ã€‚

### **é¢è¯•å›ç­”**
> Transformer é€šè¿‡å †å çš„æ³¨æ„åŠ›æœºåˆ¶å’Œå‰å‘ç½‘ç»œï¼Œç»“åˆæ®‹å·®ä¸å½’ä¸€åŒ–ï¼Œèƒ½é«˜æ•ˆæ•æ‰é•¿è·ç¦»ä¾èµ–ï¼Œå¹¿æ³›ç”¨äº NLP å’Œ CV ä»»åŠ¡ä¸­ã€‚Transformer åç»­å¯å‘äº† BERTï¼ˆåªç”¨ Encoderï¼‰ã€GPTï¼ˆåªç”¨ Decoderï¼‰ã€Vision Transformer (ViT) ç­‰æ¨¡å‹ï¼Œæˆä¸ºç°ä»£ AI åŸºç¡€æ¶æ„ä¹‹ä¸€ã€‚
>

## Transformerä¸ºä»€ä¹ˆå¯ä»¥å¹¶è¡Œ
### é—®é¢˜åˆ†æ
#### æ‘’å¼ƒ RNN ä¸­çš„ä¸²è¡Œä¾èµ–
+ RNN/LSTM å¿…é¡»æŒ‰æ—¶é—´æ­¥ä¸€ä¸ªä¸€ä¸ªå¤„ç†åºåˆ—ï¼Œåä¸€ä¸ªä½ç½®ä¾èµ–å‰ä¸€ä¸ªä½ç½®çš„éšè—çŠ¶æ€ï¼Œ**æ— æ³•å¹¶è¡Œ**ã€‚
+ Transformer å®Œå…¨å»é™¤äº†è¿™ç§æ—¶é—´æ­¥ä¾èµ–ï¼Œ**æ‰€æœ‰ä½ç½®å¯ä»¥åŒæ—¶è¿›è¡Œè®¡ç®—**ã€‚

#### è‡ªæ³¨æ„åŠ›æœºåˆ¶æ˜¯â€œå…¨å±€å¹¶è¡Œâ€çš„æ ¸å¿ƒ
+ åœ¨ Transformer ä¸­ï¼Œæ¯ä¸€ä¸ª token çš„è¡¨ç¤ºé€šè¿‡ **å¯¹æ•´å¥ä¸­çš„æ‰€æœ‰ token è¿›è¡ŒåŠ æƒæ±‚å’Œï¼ˆSelf-Attentionï¼‰** å¾—åˆ°ã€‚
+ è¿™äº›æ³¨æ„åŠ›æƒé‡çš„è®¡ç®—å¯ä»¥é€šè¿‡çŸ©é˜µæ“ä½œä¸€æ¬¡æ€§å®Œæˆã€‚

ğŸ“Œ ä¸¾ä¾‹ï¼š

> è¾“å…¥åºåˆ—é•¿åº¦ä¸º nï¼Œé‚£ä¹ˆ Self-Attention çš„è®¡ç®—æ˜¯é€šè¿‡ Q dot K^T å®ç° n  çš„æƒé‡çŸ©é˜µï¼Œè¿™å¯ä»¥ä½¿ç”¨çŸ©é˜µä¹˜æ³•ä¸€æ¬¡æ€§å®Œæˆï¼Œå¤©ç„¶é€‚åˆ GPU å¹¶è¡Œã€‚
>

#### ä½ç½®ç¼–ç ç”¨äºè¡¥å……é¡ºåºä¿¡æ¯
+ Transformer æ²¡æœ‰é¡ºåºç»“æ„ï¼Œå› æ­¤ä½¿ç”¨ä½ç½®ç¼–ç ï¼ˆå¦‚æ­£ä½™å¼¦ä½ç½®ç¼–ç æˆ– RoPEï¼‰æä¾›åºåˆ—é¡ºåºä¿¡æ¯ã€‚
+ è¿™æ ·æ—¢ä¿æŒäº†å¹¶è¡Œè®¡ç®—ï¼Œåˆä¿ç•™äº†åºåˆ—å»ºæ¨¡èƒ½åŠ›ã€‚

#### å…¨éƒ¨é‡‡ç”¨çŸ©é˜µæ“ä½œï¼Œé€‚åˆ GPU/TPU åŠ é€Ÿ
+ Transformer ä¸­çš„æ³¨æ„åŠ›æœºåˆ¶ã€å‰é¦ˆç½‘ç»œï¼ˆFFNï¼‰ã€LayerNorm ç­‰æ¨¡å—éƒ½æ˜¯çŸ©é˜µæ“ä½œã€‚
+ çŸ©é˜µä¹˜æ³•æ˜¯ **ç°ä»£ç¡¬ä»¶å¹¶è¡ŒåŠ é€Ÿçš„æœ€ä¼˜åœºæ™¯**ï¼ˆæ¯”å¦‚ CUDA æ ¸å¿ƒå¯ä»¥å¤§è§„æ¨¡å¹¶å‘æ‰§è¡Œï¼‰ã€‚

### é¢è¯•å›ç­”
> Transformer ä¹‹æ‰€ä»¥èƒ½å¤Ÿå¾ˆå¥½åœ°å¹¶è¡Œï¼Œæ˜¯å› ä¸ºå®ƒæ‘’å¼ƒäº†å¾ªç¯ç»“æ„ï¼Œé‡‡ç”¨äº†è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆSelf-Attentionï¼‰ï¼Œå¯ä»¥è®©æ¯ä¸ªä½ç½®åŒæ—¶çœ‹åˆ°å…¨å±€ä¿¡æ¯ï¼Œå› æ­¤è®­ç»ƒæ—¶å¯ä»¥ç”¨çŸ©é˜µæ“ä½œè¿›è¡Œå®Œå…¨å¹¶è¡Œï¼Œéå¸¸é€‚åˆ GPU åŠ é€Ÿï¼Œå¯ä»¥åŒæ—¶å¤„ç†æ•´ä¸ªåºåˆ—ä¸­æ‰€æœ‰ä½ç½®çš„è¾“å…¥ï¼Œä»è€Œå¤§å¤§æå‡äº†è®­ç»ƒå’Œæ¨ç†çš„å¹¶è¡Œæ•ˆç‡ã€‚
>

## RNN
### é—®é¢˜åˆ†æ
RNNï¼ˆRecurrent Neural Networkï¼‰æ˜¯ä¸€ç§**å¾ªç¯ç¥ç»ç½‘ç»œ**ï¼Œä¸“é—¨ç”¨äºå¤„ç†**åºåˆ—æ•°æ®**ï¼Œç‰¹ç‚¹æ˜¯é€šè¿‡éšè—çŠ¶æ€ (Hidden State) æ•æ‰åºåˆ—ä¸­çš„æ—¶åºå…³ç³»ã€‚

RNN é€šè¿‡éšè—çŠ¶æ€é€’å½’ä¼ é€’ä¿¡æ¯ï¼Œæ•æ‰åºåˆ—ä¾èµ–æ€§ï¼Œä½†å­˜åœ¨é•¿ç¨‹ä¾èµ–å›°éš¾å’Œæ•ˆç‡ä½çš„é—®é¢˜ï¼Œåç»­å¦‚ LSTM å’Œ Transformer é€æ­¥è§£å†³äº†è¿™äº›ä¸è¶³ã€‚  
RNN é€æ­¥å¤„ç†åºåˆ—ï¼Œä¸èƒ½å¹¶è¡Œï¼Œæ•æ‰é•¿è·ç¦»ä¾èµ–å›°éš¾ï¼›Transformer ç”¨ Attention æœºåˆ¶å…¨å±€å»ºæ¨¡å…³ç³»ï¼Œæ”¯æŒå¹¶è¡Œï¼Œæ•ˆæœæ›´å¼ºã€‚

#### RNN ç»„æˆéƒ¨åˆ†ä½œç”¨è¡¨
| æ¨¡å— | ä½œç”¨ |
| --- | --- |
| **è¾“å…¥å±‚ (Input)** | è¾“å…¥å½“å‰æ—¶åˆ»å•è¯/æ•°æ®çš„å‘é‡è¡¨ç¤º |
| **éšè—çŠ¶æ€ (Hidden State)** | **è®°å¿†ä¸Šä¸€ä¸ªæ—¶åˆ»çš„ä¿¡æ¯**ï¼Œå¹¶ä¸å½“å‰è¾“å…¥ç»“åˆï¼Œæ•æ‰åºåˆ—ä¾èµ–å…³ç³» |
| **æƒé‡çŸ©é˜µ (Weights)** | æ§åˆ¶è¾“å…¥å’Œéšè—çŠ¶æ€å¦‚ä½•å½±å“å½“å‰çŠ¶æ€ï¼›æ¨¡å‹å‚æ•° |
| **è¾“å‡ºå±‚ (Output)** | è¾“å‡ºå½“å‰æ—¶åˆ»é¢„æµ‹ç»“æœ (å¦‚åˆ†ç±»æ¦‚ç‡ã€ç”Ÿæˆè¯åˆ†å¸ƒ) |


**æ ¸å¿ƒè®¡ç®—å…¬å¼**

```plain
hâ‚œ = f(Wâ‚• * hâ‚œâ‚‹â‚ + Wâ‚“ * xâ‚œ + b)  
```

> å½“å‰éšè—çŠ¶æ€ hâ‚œ ç”±**å‰ä¸€ä¸ªéšè—çŠ¶æ€ hâ‚œâ‚‹â‚ + å½“å‰è¾“å…¥ xâ‚œ**å…±åŒå†³å®š  
f é€šå¸¸æ˜¯ **tanh** æˆ– **ReLU** æ¿€æ´»å‡½æ•°
>

#### RNN ä½œç”¨å£è¯€å¼æ€»ç»“
> **ä¸€å¥è¯**ï¼šRNN é€šè¿‡éšè—çŠ¶æ€ h è®©æ¨¡å‹æœ‰ã€Œè®°å¿†ã€ï¼Œæ•æ‰**æ—¶é—´ä¾èµ–å…³ç³»**
>

**æ¯ä¸ªæ—¶é—´æ­¥åš 3 ä»¶äº‹ï¼š**  
1ï¸âƒ£ è¯»å½“å‰è¾“å…¥  
2ï¸âƒ£ ç»“åˆä¸Šä¸€æ­¥éšè—çŠ¶æ€  
3ï¸âƒ£ è¾“å‡ºå½“å‰ç»“æœ & æ›´æ–°éšè—çŠ¶æ€

### **é¢è¯•å›ç­”**
> RNNï¼ˆRecurrent Neural Networkï¼‰æ˜¯ä¸€ç§**å¾ªç¯ç¥ç»ç½‘ç»œ**ï¼Œä¸“é—¨ç”¨äºå¤„ç†**åºåˆ—æ•°æ®**ï¼Œç‰¹ç‚¹æ˜¯é€šè¿‡éšè—çŠ¶æ€ (Hidden State) æ•æ‰åºåˆ—ä¸­çš„æ—¶åºå…³ç³»ã€‚ä¼˜ç‚¹æ˜¯èƒ½å¤„ç†åºåˆ—æ•°æ®ï¼Œæœ‰ã€Œè®°å¿†èƒ½åŠ›ã€ï¼Œç¼ºç‚¹æ˜¯è®¡ç®—ä¸èƒ½å¹¶è¡Œï¼Œé•¿åºåˆ—æ˜“æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸
>

## LSTMå’ŒGRU
### é—®é¢˜åˆ†æ
LSTMï¼ˆé•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼‰å’Œ GRUï¼ˆé—¨æ§å¾ªç¯å•å…ƒï¼‰æ˜¯å¯¹ä¼ ç»Ÿ RNN çš„ä¼˜åŒ–ï¼Œå®ƒä»¬é€šè¿‡å¼•å…¥**é—¨æ§æœºåˆ¶**æ¥è§£å†³ RNN åœ¨å¤„ç†é•¿åºåˆ—æ—¶å‡ºç°çš„**æ¢¯åº¦æ¶ˆå¤±**å’Œ**æ¢¯åº¦çˆ†ç‚¸**é—®é¢˜ï¼Œä»è€Œæ›´æœ‰æ•ˆåœ°å­¦ä¹ é•¿æœŸä¾èµ–å…³ç³»ã€‚é¢è¯•æ—¶ï¼Œä½ å¯ä»¥ä»è¿™ä¸¤ä¸ªæ¨¡å‹çš„ç»“æ„ã€è®¾è®¡åŠ¨æœºå’Œç›¸å¯¹äºä¼ ç»Ÿ RNN çš„æ”¹è¿›æ¥å›ç­”ã€‚

### **1. LSTMï¼ˆé•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼‰**
LSTM æ˜¯ç”± Sepp Hochreiter å’Œ JÃ¼rgen Schmidhuber äº 1997 å¹´æå‡ºçš„ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯å¼•å…¥äº†**è®°å¿†å•å…ƒ**å’Œä¸‰ä¸ª**é—¨æ§æœºåˆ¶**ï¼Œä½¿å¾—ä¿¡æ¯åœ¨ç½‘ç»œä¸­å¯ä»¥æœ‰æ•ˆåœ°ä¿å­˜æˆ–å¿˜è®°ï¼Œé¿å…äº† RNN åœ¨é•¿åºåˆ—ä¸­è®­ç»ƒæ—¶å‡ºç°çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚

#### **LSTM çš„ä¸»è¦ç»„æˆéƒ¨åˆ†**ï¼š
+ **è®°å¿†å•å…ƒï¼ˆCell Stateï¼‰**ï¼šä½œä¸ºä¿¡æ¯æµçš„ä¸»è¦è½½ä½“ï¼Œè®°å¿†å•å…ƒå­˜å‚¨äº†é•¿æœŸçš„ä¿¡æ¯ã€‚ä¿¡æ¯å¯ä»¥åœ¨æ•´ä¸ªåºåˆ—ä¸­æ²¿ç€è®°å¿†å•å…ƒä¼ é€’ã€‚
+ **ä¸‰ä¸ªé—¨**ï¼š
    1. **é—å¿˜é—¨ (Forget Gate)**ï¼šå†³å®šä¿ç•™å‰ä¸€æ—¶åˆ»çš„è®°å¿†å¤šå°‘ã€‚é€šè¿‡ sigmoid å‡½æ•°å†³å®šé—å¿˜å¤šå°‘ä¿¡æ¯ï¼Œå€¼ä¸º 0 æ—¶å®Œå…¨å¿˜è®°ï¼Œå€¼ä¸º 1 æ—¶å®Œå…¨ä¿ç•™ã€‚
    2. **è¾“å…¥é—¨ (Input Gate)**ï¼šå†³å®šå½“å‰è¾“å…¥ ![image](https://cdn.nlark.com/yuque/__latex/21c4616d966dca0cdc4d982b04f94933.svg) å¯¹è®°å¿†å•å…ƒçš„æ›´æ–°é‡ã€‚å®ƒé€šè¿‡ sigmoid å‡½æ•°æ§åˆ¶å“ªäº›ä¿¡æ¯åº”è¯¥è¢«æ›´æ–°ï¼Œä»¥åŠé€šè¿‡ tanh å‡½æ•°ç”Ÿæˆæ–°çš„å€™é€‰è®°å¿†ã€‚
    3. **è¾“å‡ºé—¨ (Output Gate)**ï¼šå†³å®šå½“å‰è®°å¿†å•å…ƒçš„è¾“å‡ºé‡ã€‚é€šè¿‡ sigmoid å‡½æ•°æ§åˆ¶å“ªäº›ä¿¡æ¯å¯ä»¥è¾“å‡ºï¼Œç»“åˆå½“å‰è®°å¿†å•å…ƒçš„çŠ¶æ€ï¼Œå†³å®šæœ€ç»ˆçš„è¾“å‡ºã€‚

#### **LSTM çš„ä¼˜åŠ¿**ï¼š
+ **é˜²æ­¢æ¢¯åº¦æ¶ˆå¤±**ï¼šLSTM é€šè¿‡è®°å¿†å•å…ƒä¸­çš„â€œé•¿æœŸè·¯å¾„â€å‡å°‘äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œä½¿å¾—æ¢¯åº¦èƒ½å¤Ÿæ›´å®¹æ˜“åœ°æµåŠ¨ã€‚
+ **æ›´å¼ºçš„é•¿æœŸä¾èµ–å­¦ä¹ èƒ½åŠ›**ï¼šå®ƒèƒ½å¤Ÿå­˜å‚¨å’Œè°ƒæ•´é•¿æœŸä¿¡æ¯ï¼Œä½¿å¾— LSTM èƒ½å¤Ÿå¤„ç†æ›´é•¿çš„åºåˆ—æ•°æ®ã€‚

### **LSTM çš„çŠ¶æ€æ›´æ–°å…¬å¼**ï¼š
![image](https://cdn.nlark.com/yuque/__latex/4d1398e4e9790cbe491702f4843ea2de.svg)

![image](https://cdn.nlark.com/yuque/__latex/a6fa5b57ae7cea75298ef6e6a5e41b52.svg)

![image](https://cdn.nlark.com/yuque/__latex/d0653b3eb1163a658a499b2e5d6026ab.svg)

![image](https://cdn.nlark.com/yuque/__latex/6d0880ef1c9b3505a4257acf0a79ec98.svg)

![image](https://cdn.nlark.com/yuque/__latex/9efc103419dd733627335fc2856b1f1f.svg)

![image](https://cdn.nlark.com/yuque/__latex/c6a5f65a01cd955a76aa5eb5c8222431.svg)

### **2. GRUï¼ˆé—¨æ§å¾ªç¯å•å…ƒï¼‰**
GRU æ˜¯ Cho ç­‰äººäº 2014 å¹´æå‡ºçš„ï¼Œæ˜¯å¯¹ LSTM çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œæ—¨åœ¨å‡å°‘æ¨¡å‹çš„å¤æ‚åº¦ï¼ŒåŒæ—¶ä»èƒ½æœ‰æ•ˆå¤„ç†é•¿æœŸä¾èµ–é—®é¢˜ã€‚GRU åœ¨ç»“æ„ä¸Šåªæœ‰ä¸¤ä¸ªé—¨ï¼Œåˆ†åˆ«æ˜¯**æ›´æ–°é—¨**å’Œ**é‡ç½®é—¨**ï¼Œç›¸æ¯” LSTM å‡å°‘äº†è®¡ç®—é‡å’Œå‚æ•°ã€‚

#### **GRU çš„ä¸»è¦ç»„æˆéƒ¨åˆ†**ï¼š
+ **æ›´æ–°é—¨ (Update Gate)**ï¼šå†³å®šäº†å‰ä¸€æ—¶åˆ»çš„éšè—çŠ¶æ€ ![image](https://cdn.nlark.com/yuque/__latex/fe8efef06f21db580f77c6f95bdcfdc9.svg) ä¸å½“å‰æ—¶åˆ»çš„å€™é€‰éšè—çŠ¶æ€ ![image](https://cdn.nlark.com/yuque/__latex/cb44739842a0bf855cac5f3e09833156.svg) çš„æ¯”ä¾‹ï¼Œå³æ§åˆ¶äº†è®°å¿†çš„æ›´æ–°é‡ã€‚
+ **é‡ç½®é—¨ (Reset Gate)**ï¼šå†³å®šäº†å‰ä¸€æ—¶åˆ»çš„éšè—çŠ¶æ€ ![image](https://cdn.nlark.com/yuque/__latex/fe8efef06f21db580f77c6f95bdcfdc9.svg) å¯¹å½“å‰æ—¶åˆ»è¾“å…¥çš„å½±å“ï¼Œæ§åˆ¶é—å¿˜çš„æ¯”ä¾‹ã€‚

#### **GRU çš„ä¼˜åŠ¿**ï¼š
+ **ç®€åŒ–äº†æ¨¡å‹**ï¼šç›¸è¾ƒäº LSTMï¼ŒGRU æ²¡æœ‰è®°å¿†å•å…ƒå’Œè¾“å‡ºé—¨ï¼Œè®¡ç®—é‡å’Œå‚æ•°è¾ƒå°‘ï¼Œä½†ä»èƒ½æœ‰æ•ˆåœ°æ•æ‰é•¿è·ç¦»çš„ä¾èµ–å…³ç³»ã€‚
+ **æ›´å¿«çš„è®­ç»ƒé€Ÿåº¦**ï¼šç”±äºæ¨¡å‹ç»“æ„æ›´ç®€å•ï¼ŒGRU é€šå¸¸æ¯” LSTM æ›´å®¹æ˜“è®­ç»ƒï¼Œå°¤å…¶æ˜¯åœ¨æ•°æ®é‡è¾ƒå°æˆ–è®¡ç®—èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ã€‚

### **GRU çš„çŠ¶æ€æ›´æ–°å…¬å¼**ï¼š
![image](https://cdn.nlark.com/yuque/__latex/26ae282a99d1586d8047a06cb5ff865f.svg)

![image](https://cdn.nlark.com/yuque/__latex/c8fa720e8a54f904834a2b67166d4f66.svg)

![image](https://cdn.nlark.com/yuque/__latex/e03e0353f47f64dccefc2794519c6f4a.svg)

![image](https://cdn.nlark.com/yuque/__latex/49074efc7e60b6d064e7738fe26952fc.svg)

### **LSTM å’Œ GRU ç›¸æ¯”äº RNN çš„ä¼˜åŒ–**
+ **æ¢¯åº¦æ¶ˆå¤±é—®é¢˜**ï¼šRNN åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œå°¤å…¶æ˜¯å¤„ç†é•¿åºåˆ—æ—¶ï¼Œä¼šé‡åˆ°æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚LSTM å’Œ GRU éƒ½é€šè¿‡å¼•å…¥é—¨æ§æœºåˆ¶ï¼Œæœ‰æ•ˆåœ°ä¿ç•™äº†é‡è¦ä¿¡æ¯ï¼Œå¹¶æ§åˆ¶äº†ä¿¡æ¯çš„é—å¿˜ï¼Œç¼“è§£äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚
+ **é•¿æœŸä¾èµ–å­¦ä¹ **ï¼šLSTM é€šè¿‡å…¶å¤æ‚çš„é—¨æ§æœºåˆ¶ï¼ˆå¦‚é—å¿˜é—¨å’Œè¾“å…¥é—¨ï¼‰èƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰é•¿æœŸä¾èµ–ï¼Œè€Œ GRU ç”¨å…¶ç®€å•çš„æ›´æ–°é—¨å’Œé‡ç½®é—¨ä¹Ÿèƒ½æœ‰æ•ˆåœ°æ•æ‰é•¿æœŸä¾èµ–ã€‚
+ **è®¡ç®—æ•ˆç‡**ï¼šLSTM æ¨¡å‹è¾ƒå¤æ‚ï¼Œå‚æ•°è¾ƒå¤šï¼Œè®­ç»ƒæ—¶é—´è¾ƒé•¿ï¼›è€Œ GRU çš„ç»“æ„è¾ƒç®€å•ï¼Œè®¡ç®—æ•ˆç‡è¾ƒé«˜ã€‚

### **é¢è¯•å›ç­”**
> LSTM å’Œ GRU æ˜¯å¯¹ä¼ ç»Ÿ RNN çš„ä¼˜åŒ–ï¼Œå®ƒä»¬ä¸»è¦é€šè¿‡å¼•å…¥é—¨æ§æœºåˆ¶æ¥è§£å†³ RNN åœ¨é•¿åºåˆ—å­¦ä¹ ä¸­çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚
>
> + LSTM é€šè¿‡**é—å¿˜é—¨**ã€**è¾“å…¥é—¨**å’Œ**è¾“å‡ºé—¨**æ¥æ§åˆ¶ä¿¡æ¯çš„ä¼ é€’å’Œæ›´æ–°ï¼Œä»è€Œæœ‰æ•ˆæ•æ‰é•¿æœŸä¾èµ–ã€‚
> + GRU åˆ™é€šè¿‡**æ›´æ–°é—¨**å’Œ**é‡ç½®é—¨**ç®€åŒ–äº†æ¨¡å‹ç»“æ„ï¼Œå‡å°‘äº†è®¡ç®—é‡ï¼Œå°½ç®¡å¦‚æ­¤ï¼Œå®ƒä¾ç„¶èƒ½å¤Ÿæœ‰æ•ˆåœ°æ•æ‰é•¿è·ç¦»ä¾èµ–ã€‚
>
> è¿™ä¸¤ç§æ¨¡å‹ç›¸æ¯”äºä¼ ç»Ÿ RNNï¼Œèƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°å­¦ä¹ å’Œè®°å¿†é•¿æœŸä¾èµ–ï¼Œå¹¶ä¸”æé«˜äº†è®­ç»ƒæ•ˆç‡ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†é•¿åºåˆ—æ•°æ®æ—¶è¡¨ç°æ›´ä¸ºå‡ºè‰²ã€‚
>

## ä»€ä¹ˆæ˜¯embedding
### é—®é¢˜åˆ†æ
Embedding æ˜¯ä¸€ç§å°†ç¦»æ•£çš„ã€éè¿ç»­çš„æ•°æ®ï¼ˆå¦‚è¯ã€ç±»åˆ«ï¼‰æ˜ å°„ä¸ºè¿ç»­ã€ä½ç»´ç¨ å¯†å‘é‡çš„æ–¹å¼ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œå¤„ç†è¿™äº›æ•°æ®ã€‚

#### 1ï¸âƒ£ ä¸ºä»€ä¹ˆéœ€è¦ Embeddingï¼Ÿ
+ æœºå™¨å­¦ä¹ æ¨¡å‹åªèƒ½å¤„ç†æ•°å€¼å‹æ•°æ®ã€‚
+ æ–‡æœ¬ä¸­çš„è¯è¯­ã€å›¾åƒä¸­çš„ç±»åˆ«æ ‡ç­¾æœ¬è´¨ä¸Šæ˜¯ç¦»æ•£ç¬¦å·ï¼ˆå¦‚â€œçŒ«â€ã€â€œäººâ€ã€â€œè·‘â€ï¼‰ã€‚
+ æˆ‘ä»¬ä¸èƒ½ç›´æ¥ç”¨ "one-hot" ç¼–ç ï¼šç»´åº¦é«˜ã€ç¨€ç–ä¸”ä¸èƒ½è¡¨è¾¾è¯­ä¹‰å…³ç³»ã€‚

#### 2ï¸âƒ£ Embedding æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ
+ ç”¨ä¸€ä¸ª**å¯å­¦ä¹ çš„æŸ¥æ‰¾è¡¨ï¼ˆçŸ©é˜µï¼‰**ï¼Œå°†æ¯ä¸ªè¯æˆ–ç±»åˆ«æ˜ å°„ä¸ºä¸€ä¸ªä½ç»´ç¨ å¯†å‘é‡ã€‚
+ å‡è®¾è¯è¡¨å¤§å°ä¸º `V`ï¼Œembedding ç»´åº¦ä¸º `d`ï¼Œé‚£ä¹ˆ embedding çŸ©é˜µæ˜¯ `V Ã— d`ã€‚
+ æ¯ä¸ªè¯çš„ embedding æ˜¯è¿™ä¸ªçŸ©é˜µä¸­å¯¹åº”è¡Œçš„å‘é‡ã€‚

#### 3ï¸âƒ£ Embedding çš„ä¼˜åŠ¿ï¼š
| ç‰¹æ€§ | æè¿° |
| --- | --- |
| **ç¨ å¯†ä½ç»´** | èŠ‚çœå†…å­˜ï¼Œæé«˜è®¡ç®—æ•ˆç‡ |
| **å¯å­¦ä¹ ** | åœ¨è®­ç»ƒä¸­å¯ä»¥è‡ªåŠ¨è°ƒæ•´å‘é‡ï¼Œä½¿ç›¸ä¼¼è¯é è¿‘ |
| **ä¿ç•™è¯­ä¹‰å…³ç³»** | â€œking - man + woman â‰ˆ queenâ€ æ˜¯ Word2Vec çš„ç»å…¸ç¤ºä¾‹ |
| **æ”¯æŒè¿ç§»å­¦ä¹ ** | å¯ä»¥ç”¨é¢„è®­ç»ƒ embeddingï¼Œå¦‚ Word2Vecã€GloVeã€BERT embedding |


#### 4ï¸âƒ£ å¸¸è§åº”ç”¨åœºæ™¯ï¼š
+ è‡ªç„¶è¯­è¨€å¤„ç†ï¼šè¯åµŒå…¥ï¼ˆword embeddingï¼‰ã€å¥å­åµŒå…¥ã€æ®µè½åµŒå…¥
+ æ¨èç³»ç»Ÿï¼šç”¨æˆ· IDã€å•†å“ ID çš„ embedding
+ å›¾ç¥ç»ç½‘ç»œï¼šèŠ‚ç‚¹ embedding

### é¢è¯•å›ç­”
> Embedding æ˜¯ä¸€ç§å°†ç¦»æ•£å˜é‡è½¬åŒ–ä¸ºæ¨¡å‹å¯ä»¥ç†è§£çš„è¿ç»­å‘é‡çš„æŠ€æœ¯ï¼Œæ—¢æé«˜äº†è¡¨è¾¾èƒ½åŠ›ï¼Œåˆä¸ºç¥ç»ç½‘ç»œæä¾›äº†æ›´å¼ºçš„æ³›åŒ–èƒ½åŠ›ï¼Œæ˜¯æ·±åº¦å­¦ä¹ ä¸­éå¸¸æ ¸å¿ƒçš„ä¸€é¡¹æŠ€æœ¯ã€‚
>

# PythonçŸ¥è¯†ç‚¹
## `*args`, `**kwargs` çš„ç”¨æ³•
### **ç®€æ´ç­”æ³•**
> `*args` ç”¨æ¥æ¥æ”¶**ä»»æ„æ•°é‡çš„ä½ç½®å‚æ•°**ï¼Œ`**kwargs` ç”¨æ¥æ¥æ”¶**ä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°**ï¼Œä½¿å¾—å‡½æ•°æ›´åŠ çµæ´»ã€‚
>

### **ä¾‹å­**
```python
def func(*args, **kwargs):
    print(args)      # å…ƒç»„ï¼Œæ¥æ”¶ä½ç½®å‚æ•°
    print(kwargs)    # å­—å…¸ï¼Œæ¥æ”¶å…³é”®å­—å‚æ•°

func(1, 2, 3, a=4, b=5)
# è¾“å‡º: (1, 2, 3)
# è¾“å‡º: {'a': 4, 'b': 5}
```

### **é¢è¯•åœºæ™¯ç­”é¢˜æ¨¡ç‰ˆ**
> `*args` æ¥æ”¶å¯å˜æ•°é‡çš„ä½ç½®å‚æ•°ï¼Œä»¥å…ƒç»„å½¢å¼ä¼ å…¥ï¼Œ`**kwargs` æ¥æ”¶å¯å˜æ•°é‡çš„å…³é”®å­—å‚æ•°ï¼Œä»¥å­—å…¸å½¢å¼ä¼ å…¥ï¼Œä¸»è¦ç”¨äºç¼–å†™é€šç”¨çµæ´»çš„å‡½æ•°æ¥å£ã€‚
>

---

## Python ä¸­çš„åŸºæœ¬ç±»å‹
### **ç®€æ´ç­”æ³•**
> Python åŸºæœ¬ç±»å‹åŒ…æ‹¬ï¼š
>

+ **æ•°å­—ç±»å‹**ï¼šint, float, complex, bool
+ **å­—ç¬¦ä¸²ç±»å‹**ï¼šstr
+ **äºŒè¿›åˆ¶ç±»å‹**ï¼šbytes, bytearray, memoryview
+ **NoneType**ï¼šNone

### **é¢è¯•åœºæ™¯ç­”é¢˜æ¨¡ç‰ˆ**
> Python ä¸­åŸºæœ¬ç±»å‹åŒ…æ‹¬æ•´æ•°ï¼ˆintï¼‰ã€æµ®ç‚¹æ•°ï¼ˆfloatï¼‰ã€å¤æ•°ï¼ˆcomplexï¼‰ã€å¸ƒå°”å€¼ï¼ˆboolï¼‰ã€å­—ç¬¦ä¸²ï¼ˆstrï¼‰ã€äºŒè¿›åˆ¶ç±»å‹ï¼ˆbytes, bytearray, memoryviewï¼‰å’Œç©ºå€¼ï¼ˆNoneTypeï¼‰ã€‚
>

---

## Python å†…ç½®æ•°æ®ç»“æ„
### **ç®€æ´ç­”æ³•**
> Python å†…ç½®çš„æ•°æ®ç»“æ„ä¸»è¦åŒ…æ‹¬ï¼š
>

+ **list**ï¼ˆåˆ—è¡¨ï¼‰
+ **tuple**ï¼ˆå…ƒç»„ï¼‰
+ **dict**ï¼ˆå­—å…¸ï¼‰
+ **set**ï¼ˆé›†åˆï¼‰

---

## tuple ä¸ list çš„åŒºåˆ«
| ç‰¹ç‚¹ | list (åˆ—è¡¨) | tuple (å…ƒç»„) |
| --- | --- | --- |
| **å¯å˜æ€§** | å¯å˜ (mutable) | ä¸å¯å˜ (immutable) |
| **è¯­æ³•** | [1, 2, 3] | (1, 2, 3) |
| **ç”¨é€”** | é€‚åˆå­˜å‚¨å¯å˜å¯¹è±¡é›†åˆ | é€‚åˆå­˜å‚¨å›ºå®šæ•°æ®ç»„åˆï¼ˆé”®ç­‰ï¼‰ |
| **æ€§èƒ½** | è®¿é—®é€Ÿåº¦ç•¥æ…¢ | è®¿é—®é€Ÿåº¦ç•¥å¿« |
| **å¯å“ˆå¸Œæ€§** | ä¸å¯å“ˆå¸Œ (ä¸èƒ½ä½œä¸º dict key) | å¯å“ˆå¸Œ (è‹¥å…ƒç´ å…¨æ˜¯ä¸å¯å˜å¯¹è±¡) |


### **é¢è¯•åœºæ™¯ç­”é¢˜æ¨¡ç‰ˆ**
> list æ˜¯å¯å˜åºåˆ—ï¼Œå…ƒç´ å¯ä»¥å¢åˆ æ”¹ï¼›tuple æ˜¯ä¸å¯å˜åºåˆ—ï¼Œå®šä¹‰åå…ƒç´ ä¸å¯ä¿®æ”¹ï¼Œé€‚åˆç”¨äºä¸å¯å˜æ•°æ®ç»„åˆï¼Œå¹¶ä¸”å½“å…ƒç´ éƒ½æ˜¯ä¸å¯å˜å¯¹è±¡æ—¶ tuple å¯ä½œä¸ºå­—å…¸ keyã€‚tuple å› ä¸å¯å˜ï¼Œæ€§èƒ½å’Œå†…å­˜å ç”¨ç•¥ä¼˜äº listã€‚
>

---

å¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥é¡ºä¾¿æ•´ç†**é¢è¯•å¿…è€ƒï¼šdict å’Œ set ç‰¹ç‚¹ + list/tuple/set/dict å¸¸ç”¨æ“ä½œæ€»ç»“è¡¨**ï¼Œéœ€è¦å—ï¼Ÿ

# **LoRAï¼ˆLow-Rank Adaptationï¼‰è¯¦ç»†æ­¥éª¤è§£æ**
## **1. LoRA ç®€ä»‹**
LoRAï¼ˆLow-Rank Adaptationï¼‰æ˜¯ä¸€ç§ **é«˜æ•ˆçš„å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆPEFT, Parameter Efficient Fine-Tuningï¼‰** æŠ€æœ¯ï¼Œä¸»è¦ç”¨äº **å¤§æ¨¡å‹ï¼ˆå¦‚ Transformerï¼‰** çš„ä½ç§©é€‚é…ã€‚  
å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š  
âœ… **å†»ç»“å¤§éƒ¨åˆ†æ¨¡å‹å‚æ•°**ï¼Œåªåœ¨ **ä½ç§©çŸ©é˜µ** ä¸Šè¿›è¡Œ **å¢é‡è®­ç»ƒ**ï¼Œå¤§å¹…é™ä½è®­ç»ƒæˆæœ¬å’Œå­˜å‚¨éœ€æ±‚ã€‚  
âœ… é€‚ç”¨äº **å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰**ã€**è§†è§‰Transformerï¼ˆViTï¼‰** åŠå…¶ä»– **å¤§è§„æ¨¡æ·±åº¦å­¦ä¹ æ¨¡å‹**ã€‚

---

## **2. LoRA è®­ç»ƒæ­¥éª¤**
LoRA **ä¸»è¦ä½œç”¨äº Transformer çš„ Attention å±‚**ï¼Œå¹¶é‡‡ç”¨ **ä½ç§©çŸ©é˜µåˆ†è§£** æ¥æ›¿ä»£ä¼ ç»Ÿçš„å…¨é‡å‚æ•°æ›´æ–°ã€‚å…¶è®­ç»ƒæ­¥éª¤å¦‚ä¸‹ï¼š

---

### **Step 1: å†»ç»“é¢„è®­ç»ƒæ¨¡å‹**
**ä¼ ç»Ÿçš„å¾®è°ƒï¼ˆFull Fine-Tuningï¼‰** éœ€è¦è°ƒæ•´ **æ•´ä¸ª Transformer çš„æƒé‡**ï¼Œè€Œ LoRA **å†»ç»“æ‰€æœ‰åŸå§‹æƒé‡**ï¼Œåªåœ¨ **æ³¨æ„åŠ›å±‚çš„éƒ¨åˆ†å‚æ•°ä¸Šè¿›è¡Œè°ƒæ•´**ã€‚

```python
for param in model.parameters():
    param.requires_grad = False  # å†»ç»“æ‰€æœ‰å‚æ•°
```

ğŸ“Œ **å¥½å¤„**ï¼šé¿å…å¯¹å¤§æ¨¡å‹è¿›è¡Œå®Œæ•´çš„åå‘ä¼ æ’­ï¼Œé™ä½è®¡ç®—å’Œå­˜å‚¨å¼€é”€ã€‚

---

### **Step 2: æ›¿æ¢ Transformer çš„å…¨è¿æ¥å±‚**
åœ¨ Transformer çš„æ³¨æ„åŠ›å±‚ä¸­ï¼ŒæŸ¥è¯¢ï¼ˆ**Q**ï¼‰ã€é”®ï¼ˆ**K**ï¼‰ã€å€¼ï¼ˆ**V**ï¼‰é€šå¸¸ç”± **å…¨è¿æ¥å±‚ï¼ˆLinear Layerï¼‰** è®¡ç®—ï¼š

Q=XWQ,K=XWK,V=XWVQ = XW_Q, \quad K = XW_K, \quad V = XW_V

LoRA **ä¸ç›´æ¥è®­ç»ƒ** åŸå§‹çš„ `W_Q`ã€`W_K`ã€`W_V`ï¼Œè€Œæ˜¯ **å¯¹ **`**W_Q**`** è¿›è¡Œä¸€ä¸ªä½ç§©çŸ©é˜µè¿‘ä¼¼**ï¼š

Î”WQ=BA\Delta W_Q = BA

å…¶ä¸­ï¼š

+ **A**ï¼ˆå¤§å° `d Ã— r`ï¼‰ï¼šä½ç§©çŸ©é˜µï¼ˆr æ˜¯ç§©ï¼‰ã€‚
+ **B**ï¼ˆå¤§å° `r Ã— d`ï¼‰ï¼šå¦ä¸€ä¸ªä½ç§©çŸ©é˜µã€‚
+ **r â‰ª d**ï¼ˆè¿œå°äº dï¼‰ï¼Œé™ä½è®­ç»ƒå‚æ•°é‡ã€‚

### **ä»£ç ç¤ºä¾‹**
```python
import torch
import torch.nn as nn

class LoRALinear(nn.Module):
    def __init__(self, in_features, out_features, rank=4, alpha=32):
        super().__init__()
        self.rank = rank
        self.alpha = alpha
        
        # åŸå§‹å…¨è¿æ¥å±‚ï¼ˆå†»ç»“ï¼‰
        self.W = nn.Linear(in_features, out_features, bias=False)
        self.W.requires_grad_(False)
        
        # LoRA ä½ç§©å‚æ•°
        self.A = nn.Linear(in_features, rank, bias=False)  # d Ã— r
        self.B = nn.Linear(rank, out_features, bias=False)  # r Ã— d
        
        # åˆå§‹åŒ–ä½ç§©çŸ©é˜µï¼ˆé›¶åˆå§‹åŒ–ï¼‰
        nn.init.kaiming_uniform_(self.A.weight, a=5**0.5)
        nn.init.zeros_(self.B.weight)
    
    def forward(self, x):
        return self.W(x) + self.alpha * self.B(self.A(x))  # ä½ç§©è¿‘ä¼¼
```

ğŸ“Œ **å…³é”®ç‚¹**ï¼š

+ `A` å’Œ `B` æ˜¯ä¸¤ä¸ª **ä½ç§©çŸ©é˜µ**ï¼Œåˆå§‹å€¼è®¾ä¸º **é›¶**ï¼ˆé˜²æ­¢å½±å“åŸå§‹æ¨¡å‹ï¼‰ã€‚
+ `alpha` æ˜¯ **ç¼©æ”¾å› å­**ï¼Œç”¨äºè°ƒæ•´ LoRA å½±å“ç¨‹åº¦ã€‚

---

### **Step 3: åªè®­ç»ƒ LoRA ä½ç§©å‚æ•°**
```python
optimizer = torch.optim.AdamW([
    {'params': model.lora_A.parameters()},
    {'params': model.lora_B.parameters()}
], lr=1e-4)
```

+ **åªè®­ç»ƒ **`**A**`** å’Œ **`**B**`**ï¼Œå†»ç»“åŸå§‹å‚æ•°**ã€‚
+ ç”±äº **r è¿œå°äº d**ï¼Œè®¡ç®—é‡å’Œå­˜å‚¨é‡å¤§å¹…é™ä½ã€‚

---

### **Step 4: ç»„åˆ LoRA å’ŒåŸå§‹ Transformer**
è®­ç»ƒå®Œæˆåï¼ŒLoRA è®¡ç®—çš„å¢é‡ `Î”W_Q = BA`**ç›´æ¥åŠ åˆ°** åŸå§‹ `W_Q` ä¸Šï¼š

Qâ€²=X(WQ+Î”WQ)Q' = X(W_Q + \Delta W_Q)

ğŸ“Œ **å¥½å¤„**ï¼š

+ **å¯ä»¥ç›´æ¥åˆå¹¶åˆ°åŸæ¨¡å‹æƒé‡**ï¼Œæ— éœ€é¢å¤–æ¨ç†å¼€é”€ã€‚
+ åªéœ€ **å°‘é‡é¢å¤–å‚æ•°** å³å¯å®Œæˆå¾®è°ƒã€‚

---

### **Step 5: æ¨ç†æ—¶çš„ LoRA**
LoRA è®­ç»ƒå®Œæˆåï¼Œå¯ä»¥é€‰æ‹©ï¼š

1. **ä¿æŒ LoRA åˆ†è§£ç»“æ„ï¼ˆå‡å°‘å‚æ•°é‡ï¼‰**ï¼š
    - é€‚ç”¨äºå¤šä¸ª LoRA ä»»åŠ¡çš„åŠ¨æ€åˆ‡æ¢ã€‚
2. **åˆå¹¶ LoRA å‚æ•°åˆ°åŸæ¨¡å‹**ï¼š
    - é€‚ç”¨äºé«˜æ•ˆæ¨ç†ï¼Œé¿å…é¢å¤–è®¡ç®—å¼€é”€ï¼š

```python
model.W_Q.weight.data += model.B.weight @ model.A.weight
```

---

## **3. LoRA ç›¸æ¯”ä¼ ç»Ÿå¾®è°ƒçš„ä¼˜åŠ¿**
| **å¯¹æ¯”é¡¹** | **ä¼ ç»Ÿå¾®è°ƒï¼ˆFull Fine-Tuningï¼‰** | **LoRA** |
| --- | --- | --- |
| **å‚æ•°æ›´æ–°** | æ‰€æœ‰å‚æ•° | ä»… Q/K/V ä½ç§©çŸ©é˜µ |
| **è®­ç»ƒå¼€é”€** | é«˜ï¼ˆæ•°åäº¿å‚æ•°ï¼‰ | ä½ï¼ˆç™¾ä¸‡çº§åˆ«ï¼‰ |
| **å­˜å‚¨éœ€æ±‚** | å¤§ | å° |
| **æ¨ç†æ•ˆç‡** | å¯èƒ½å—å½±å“ | å½±å“å° |


ğŸ“Œ **LoRA é€‚ç”¨äº**ï¼š

+ **å¤§æ¨¡å‹å¾®è°ƒ**ï¼ˆå¦‚ GPTã€LLaMAã€ViTï¼‰ã€‚
+ **é«˜æ•ˆå­˜å‚¨ï¼ˆå¤šä¸ªä»»åŠ¡å¿«é€Ÿåˆ‡æ¢ï¼‰**ã€‚
+ **ç®—åŠ›å—é™çš„ç¯å¢ƒ**ï¼ˆå¦‚æ‰‹æœºç«¯ã€è¾¹ç¼˜è®¡ç®—ï¼‰ã€‚

---

## **4. LoRA åœ¨ Transformer ç»“æ„ä¸­çš„ä½ç½®**
![](https://raw.githubusercontent.com/microsoft/LoRA/main/images/lora_diagram.png)  
ğŸ“Œ **LoRA ä½œç”¨äº Multi-Head Attention çš„ Query/Key/Value è®¡ç®—ä¸­**ã€‚

---

## **5. LoRA ä»£ç ç¤ºä¾‹ï¼ˆå®Œæ•´è®­ç»ƒï¼‰**
```python
import torch
import torch.nn as nn
import torch.optim as optim

class LoRAModel(nn.Module):
    def __init__(self, d, r=4, alpha=32):
        super().__init__()
        self.W = nn.Linear(d, d, bias=False)  # å†»ç»“åŸå§‹æƒé‡
        self.W.requires_grad_(False)

        self.A = nn.Linear(d, r, bias=False)  # ä½ç§©çŸ©é˜µ A
        self.B = nn.Linear(r, d, bias=False)  # ä½ç§©çŸ©é˜µ B

        nn.init.kaiming_uniform_(self.A.weight, a=5**0.5)
        nn.init.zeros_(self.B.weight)

        self.alpha = alpha

    def forward(self, x):
        return self.W(x) + self.alpha * self.B(self.A(x))

# åˆ›å»ºæ¨¡å‹
model = LoRAModel(d=512, r=4).cuda()

# åªè®­ç»ƒ LoRA ä½ç§©å‚æ•°
optimizer = optim.AdamW([
    {'params': model.A.parameters()},
    {'params': model.B.parameters()}
], lr=1e-4)

# è®­ç»ƒå¾ªç¯
for epoch in range(10):
    x = torch.randn(32, 512).cuda()
    y = model(x).sum()
    y.backward()
    optimizer.step()
    optimizer.zero_grad()
    print(f"Epoch {epoch}: Loss={y.item()}")
```

---

## **6. æ€»ç»“**
âœ… **LoRA ä¸»è¦ä¼˜åŒ– Transformer æ³¨æ„åŠ›å±‚**ï¼Œé€šè¿‡ **ä½ç§©åˆ†è§£** è¿‘ä¼¼ `W_Q`ã€`W_K`ã€`W_V`ï¼Œå¤§å¹…å‡å°‘è®­ç»ƒå‚æ•°é‡ã€‚  
âœ… **å†»ç»“å¤§æ¨¡å‹æƒé‡**ï¼Œä»…è°ƒæ•´ **ä½ç§©çŸ©é˜µ**ï¼Œä½¿å¾— **å­˜å‚¨å’Œè®¡ç®—æˆæœ¬å¤§å¹…ä¸‹é™**ã€‚  
âœ… **é€‚ç”¨äº LLMï¼ˆGPTã€BERTã€LLaMAï¼‰ç­‰å¤§æ¨¡å‹çš„é«˜æ•ˆå¾®è°ƒ**ï¼Œæ”¯æŒ **å¤šä»»åŠ¡åˆ‡æ¢** å’Œ **é«˜æ•ˆæ¨ç†**ã€‚



### 1. **LoRA (Low-Rank Adaptation)** çš„å®ç°æ–¹å¼ï¼š
LoRA é€šè¿‡åœ¨æ·±åº¦å­¦ä¹ æ¨¡å‹çš„æƒé‡çŸ©é˜µä¸­å¼•å…¥ä½ç§©é€‚é…å±‚ï¼Œé¿å…äº†å¤§è§„æ¨¡æ¨¡å‹å¾®è°ƒæ—¶å¯¹æ‰€æœ‰æƒé‡çŸ©é˜µè¿›è¡Œæ›´æ–°ï¼Œä»è€Œå¤§å¤§å‡å°‘äº†è®­ç»ƒæ—¶çš„è®¡ç®—å’Œå­˜å‚¨å¼€é”€ã€‚LoRAçš„å…·ä½“å®ç°æ–¹æ³•å¦‚ä¸‹ï¼š

#### LoRAçš„æ ¸å¿ƒåŸç†ï¼š
+ å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŸå§‹çš„æƒé‡çŸ©é˜µ ![image](https://cdn.nlark.com/yuque/__latex/a36915ecf0b5605493f5aeaf1480a9ac.svg)ï¼ˆä¾‹å¦‚ Transformer ä¸­çš„è‡ªæ³¨æ„åŠ›å±‚çš„æƒé‡çŸ©é˜µï¼‰ï¼ŒLoRA é€šè¿‡å°†å…¶åˆ†è§£ä¸ºä¸¤ä¸ªä½ç§©çŸ©é˜µ ![image](https://cdn.nlark.com/yuque/__latex/de951302f41d4707b9d80ca1af34dd0f.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/54f5fb1b07a88521e7b036e3bc7a5e33.svg) æ¥é€‚åº”æ€§åœ°è°ƒæ•´æ¨¡å‹å‚æ•°ï¼š

![image](https://cdn.nlark.com/yuque/__latex/739e60f0bb849e673a8e6799ecd59b03.svg)

  å…¶ä¸­ï¼Œ![image](https://cdn.nlark.com/yuque/__latex/de951302f41d4707b9d80ca1af34dd0f.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/54f5fb1b07a88521e7b036e3bc7a5e33.svg) æ˜¯ä½ç§©çŸ©é˜µï¼Œé€šå¸¸ ![image](https://cdn.nlark.com/yuque/__latex/de951302f41d4707b9d80ca1af34dd0f.svg) çš„ç»´åº¦ä¸º ![image](https://cdn.nlark.com/yuque/__latex/c5a0dfe09e71eaea8635ffd525bf3f56.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/54f5fb1b07a88521e7b036e3bc7a5e33.svg) ä¸º ![image](https://cdn.nlark.com/yuque/__latex/a3c057578ca804946db284d512f2653b.svg)ï¼Œ![image](https://cdn.nlark.com/yuque/__latex/72cb3a229067770aeb6caa625a65a1a1.svg) æ˜¯ä¸€ä¸ªè¾ƒå°çš„ç§©å€¼ï¼Œè¿œå°äº ![image](https://cdn.nlark.com/yuque/__latex/a36915ecf0b5605493f5aeaf1480a9ac.svg) çš„åŸå§‹ç»´åº¦ã€‚è¿™æ„å‘³ç€åªæœ‰ ![image](https://cdn.nlark.com/yuque/__latex/de951302f41d4707b9d80ca1af34dd0f.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/54f5fb1b07a88521e7b036e3bc7a5e33.svg) çš„å‚æ•°éœ€è¦è¢«æ›´æ–°ã€‚

#### å…·ä½“å®ç°æ­¥éª¤ï¼š
1. **æ’å…¥LoRAé€‚é…å±‚**ï¼šåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªæƒé‡çŸ©é˜µ ![image](https://cdn.nlark.com/yuque/__latex/a36915ecf0b5605493f5aeaf1480a9ac.svg) æ›¿æ¢ä¸º ![image](https://cdn.nlark.com/yuque/__latex/739e60f0bb849e673a8e6799ecd59b03.svg)ï¼Œå³åªåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ›´æ–° ![image](https://cdn.nlark.com/yuque/__latex/de951302f41d4707b9d80ca1af34dd0f.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/54f5fb1b07a88521e7b036e3bc7a5e33.svg)ã€‚
2. **ä½ç§©çŸ©é˜µçš„ç»´åº¦è®¾ç½®**ï¼šä½ç§©çŸ©é˜µ ![image](https://cdn.nlark.com/yuque/__latex/de951302f41d4707b9d80ca1af34dd0f.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/54f5fb1b07a88521e7b036e3bc7a5e33.svg) çš„ç§© ![image](https://cdn.nlark.com/yuque/__latex/72cb3a229067770aeb6caa625a65a1a1.svg) é€šå¸¸è¿œå°äº ![image](https://cdn.nlark.com/yuque/__latex/a36915ecf0b5605493f5aeaf1480a9ac.svg) çš„ç»´åº¦ã€‚é€šè¿‡è°ƒèŠ‚ç§© ![image](https://cdn.nlark.com/yuque/__latex/72cb3a229067770aeb6caa625a65a1a1.svg)ï¼Œå¯ä»¥æ§åˆ¶æ¨¡å‹å¾®è°ƒæ—¶çš„é¢å¤–å‚æ•°é‡ã€‚
3. **è®­ç»ƒè¿‡ç¨‹ä¸­ä»…æ›´æ–°** ![image](https://cdn.nlark.com/yuque/__latex/de951302f41d4707b9d80ca1af34dd0f.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/54f5fb1b07a88521e7b036e3bc7a5e33.svg)ï¼šé€šå¸¸ï¼Œåªå¾®è°ƒ ![image](https://cdn.nlark.com/yuque/__latex/de951302f41d4707b9d80ca1af34dd0f.svg) å’Œ ![image](https://cdn.nlark.com/yuque/__latex/54f5fb1b07a88521e7b036e3bc7a5e33.svg) å‚æ•°ï¼Œè€Œä¿ç•™åŸå§‹çš„ ![image](https://cdn.nlark.com/yuque/__latex/a36915ecf0b5605493f5aeaf1480a9ac.svg) ä¸å˜ã€‚

#### å®ç°ä»£ç ç¤ºä¾‹ï¼ˆPyTorchï¼‰ï¼š
```python
import torch
import torch.nn as nn

class LoRALayer(nn.Module):
    def __init__(self, in_features, out_features, rank=8):
        super(LoRALayer, self).__init__()
        self.rank = rank
        self.in_features = in_features
        self.out_features = out_features
        
        # åŸå§‹æƒé‡çŸ©é˜µ
        self.W = nn.Parameter(torch.randn(out_features, in_features))
        
        # ä½ç§©é€‚é…å±‚ A å’Œ B
        self.A = nn.Parameter(torch.randn(in_features, rank))
        self.B = nn.Parameter(torch.randn(rank, out_features))
    
    def forward(self, x):
        # æƒé‡çŸ©é˜µ W' = W + A * B
        W_prime = self.W + torch.mm(self.A, self.B)
        return torch.matmul(x, W_prime.T)

# ç¤ºä¾‹æ¨¡å‹
class SimpleModel(nn.Module):
    def __init__(self, input_size, output_size):
        super(SimpleModel, self).__init__()
        self.layer1 = LoRALayer(input_size, output_size, rank=4)
        
    def forward(self, x):
        return self.layer1(x)

# æ¨¡å‹å®ä¾‹
model = SimpleModel(input_size=128, output_size=64)
```

åœ¨ä¸Šè¿°å®ç°ä¸­ï¼Œæˆ‘ä»¬åœ¨ `LoRALayer` ç±»ä¸­å®šä¹‰äº† `A` å’Œ `B` çŸ©é˜µï¼Œå¹¶åœ¨ `forward` å‡½æ•°ä¸­è®¡ç®—å‡ºæ–°çš„æƒé‡çŸ©é˜µ ![image](https://cdn.nlark.com/yuque/__latex/739e60f0bb849e673a8e6799ecd59b03.svg)ã€‚è¿™æ ·ï¼ŒLoRA å¯ä»¥é€šè¿‡ä½ç§©çŸ©é˜µé€‚åº”æƒé‡æ›´æ–°ã€‚

### 2. **DeepSpeedé‡åŒ–å®ç°åŸç†ï¼š**
DeepSpeed é€šè¿‡é‡åŒ–æŠ€æœ¯å‡å°‘äº†è®­ç»ƒå’Œæ¨ç†æ—¶çš„å†…å­˜å’Œè®¡ç®—è´Ÿæ‹…ã€‚DeepSpeedé‡åŒ–çš„å®ç°å¤§è‡´åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š**é™æ€é‡åŒ–** å’Œ **åŠ¨æ€é‡åŒ–**ã€‚

#### 2.1 **é™æ€é‡åŒ–**ï¼š
é™æ€é‡åŒ–çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œåœ¨è®­ç»ƒç»“æŸåå¯¹æƒé‡å’Œæ¿€æ´»å€¼è¿›è¡Œé‡åŒ–ã€‚é™æ€é‡åŒ–é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

1. **é‡åŒ–è®­ç»ƒ**ï¼šåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹çš„æƒé‡ä»¥é«˜ç²¾åº¦ï¼ˆå¦‚FP32ï¼‰å­˜å‚¨ï¼ŒåŒæ—¶åœ¨æ¯ä¸ªå‰å‘ä¼ æ’­ä¸­ï¼Œæ¨¡å‹ä¼šè®°å½•æ¿€æ´»å€¼çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œè¿™äº›å€¼ç”¨äºé‡åŒ–ã€‚
2. **é‡åŒ–æƒé‡å’Œæ¿€æ´»**ï¼šè®­ç»ƒç»“æŸåï¼Œä½¿ç”¨è®°å½•çš„æœ€å¤§æœ€å°å€¼å°†æƒé‡å’Œæ¿€æ´»é‡åŒ–ä¸ºè¾ƒä½ç²¾åº¦çš„æ•´æ•°ï¼ˆå¦‚INT8ï¼‰ã€‚æƒé‡çš„é‡åŒ–æ˜¯é€šè¿‡ç¼©æ”¾å› å­è¿›è¡Œçš„ï¼Œå°†æ¯ä¸ªæƒé‡é™¤ä»¥å…¶ç¼©æ”¾å› å­ï¼Œä½¿å…¶è½åœ¨ç›®æ ‡é‡åŒ–åŒºé—´å†…ã€‚
3. **æ›¿æ¢æµ®åŠ¨ç²¾åº¦ä¸ºæ•´æ•°è®¡ç®—**ï¼šæ¨ç†æ—¶ï¼Œä½¿ç”¨INT8ï¼ˆæˆ–è€…æ›´ä½ç²¾åº¦ï¼‰è®¡ç®—ï¼Œè€Œä¸æ˜¯åŸå§‹çš„FP32ï¼Œè¿™ä¼šå¤§å¤§åŠ é€Ÿæ¨ç†å¹¶å‡å°‘å†…å­˜éœ€æ±‚ã€‚

#### 2.2 **åŠ¨æ€é‡åŒ–**ï¼š
åŠ¨æ€é‡åŒ–åœ¨æ¨ç†é˜¶æ®µè¿›è¡Œï¼Œé€šå¸¸ä»…å¯¹æƒé‡è¿›è¡Œé‡åŒ–ï¼Œè€Œæ¿€æ´»å€¼çš„é‡åŒ–åˆ™æ˜¯åŠ¨æ€è¿›è¡Œçš„ã€‚

+ **æƒé‡é‡åŒ–**ï¼šå°†æƒé‡ä»FP32é‡åŒ–ä¸ºINT8æˆ–æ›´ä½ç²¾åº¦æ•´æ•°ã€‚
+ **æ¿€æ´»é‡åŒ–**ï¼šåœ¨æ¯æ¬¡æ¨ç†æ—¶ï¼Œæ ¹æ®å½“å‰è¾“å…¥æ•°æ®åŠ¨æ€é‡åŒ–æ¿€æ´»ã€‚

#### 2.3 **é‡åŒ–æ„ŸçŸ¥è®­ç»ƒï¼ˆQATï¼‰**ï¼š
é‡åŒ–æ„ŸçŸ¥è®­ç»ƒæ˜¯æŒ‡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ¨¡æ‹Ÿé‡åŒ–æ“ä½œï¼Œä¿æŒè®­ç»ƒè¿‡ç¨‹ä¸­çš„é«˜ç²¾åº¦è®¡ç®—ï¼Œä½†åœ¨è®­ç»ƒæœŸé—´ä¼šåº”ç”¨â€œè™šæ‹Ÿé‡åŒ–â€æ¥ä¼˜åŒ–æ¨¡å‹ï¼Œä½¿å¾—é‡åŒ–åçš„æ¨¡å‹åœ¨æ¨ç†æ—¶å°½å¯èƒ½åœ°æ¥è¿‘è®­ç»ƒæ—¶çš„æ€§èƒ½ã€‚

#### DeepSpeedé‡åŒ–ä»£ç å®ç°ï¼ˆä»¥é™æ€é‡åŒ–ä¸ºä¾‹ï¼‰ï¼š
```python
import torch
import deepspeed
from torch.quantization import quantize_dynamic

# åˆ›å»ºæ¨¡å‹
class SimpleModel(nn.Module):
    def __init__(self):
        super(SimpleModel, self).__init__()
        self.fc1 = nn.Linear(128, 64)
        self.fc2 = nn.Linear(64, 32)
        self.fc3 = nn.Linear(32, 10)

    def forward(self, x):
        x = torch.relu(self.fc1(x))
        x = torch.relu(self.fc2(x))
        return self.fc3(x)

# æ¨¡å‹å®ä¾‹åŒ–
model = SimpleModel()

# æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ï¼ˆç•¥ï¼‰
# ...

# åº”ç”¨é‡åŒ–
quantized_model = quantize_dynamic(model, dtype=torch.qint8)

# æ¨ç†é˜¶æ®µ
inputs = torch.randn(32, 128)
output = quantized_model(inputs)
```

åœ¨æ­¤ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `torch.quantization.quantize_dynamic` å¯¹æ¨¡å‹çš„æƒé‡è¿›è¡Œé‡åŒ–ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸º INT8 ç²¾åº¦ã€‚è¿™æ˜¯åœ¨æ¨¡å‹æ¨ç†æ—¶å‡å°‘å†…å­˜å’Œè®¡ç®—çš„å…³é”®æ­¥éª¤ã€‚

### 3. **æ€»ç»“**ï¼š
+ **LoRA** é€šè¿‡ä½ç§©çŸ©é˜µé€¼è¿‘å¤§è§„æ¨¡æƒé‡çŸ©é˜µï¼Œé¿å…äº†æ‰€æœ‰å‚æ•°çš„æ›´æ–°ï¼Œä»è€ŒèŠ‚çœäº†è®¡ç®—å’Œå­˜å‚¨èµ„æºã€‚
+ **DeepSpeedé‡åŒ–** é€šè¿‡é™æ€æˆ–åŠ¨æ€é‡åŒ–æŠ€æœ¯ï¼Œåœ¨å‡å°‘æ¨¡å‹å­˜å‚¨éœ€æ±‚å’ŒåŠ é€Ÿæ¨ç†çš„åŒæ—¶ï¼Œå°½é‡ä¿æŒæ¨¡å‹æ€§èƒ½ã€‚é‡åŒ–æ„ŸçŸ¥è®­ç»ƒï¼ˆQATï¼‰åˆ™åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ¨¡æ‹Ÿé‡åŒ–ï¼Œä¼˜åŒ–é‡åŒ–åçš„æ€§èƒ½ã€‚



# Data-Juicer
**Data-Juicer** çš„ä½¿ç”¨æ–¹æ³•é€šå¸¸å–å†³äºå…·ä½“çš„å®ç°å’Œé…ç½®è¦æ±‚ã€‚å°½ç®¡æ¯ä¸ªç‰ˆæœ¬çš„å·¥å…·å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼Œä½†ä¸€èˆ¬æ¥è¯´ï¼Œä½¿ç”¨ **Data-Juicer** ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š

### 1. **å®‰è£…å’Œé…ç½®**
é¦–å…ˆï¼Œæ‚¨éœ€è¦åœ¨æ‚¨çš„å·¥ä½œç¯å¢ƒä¸­å®‰è£… **Data-Juicer**ã€‚è¿™é€šå¸¸æ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š

+ ä¸‹è½½å¹¶å®‰è£… Data-Juicer å·¥å…·åŒ…ã€‚å¯èƒ½ä¼šæä¾›ä¸åŒçš„å®‰è£…æ–¹å¼ï¼Œå¦‚é€šè¿‡å‘½ä»¤è¡Œå·¥å…·ã€Docker å®¹å™¨æˆ–äº‘æœåŠ¡å¹³å°ã€‚
+ é…ç½®æ‰€éœ€çš„è¿æ¥å‚æ•°ï¼Œä¾‹å¦‚æ•°æ®åº“è¿æ¥ã€API å¯†é’¥ã€å­˜å‚¨æ¡¶ä¿¡æ¯ç­‰ï¼Œç¡®ä¿å·¥å…·èƒ½å¤Ÿè®¿é—®æ‰€éœ€çš„æ•°æ®æºå’Œç›®æ ‡ç³»ç»Ÿã€‚

### 2. **è¿æ¥æ•°æ®æº**
**Data-Juicer** æ”¯æŒè¿æ¥å¤šç§æ•°æ®æºï¼Œå¦‚æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿã€äº‘å­˜å‚¨ç­‰ã€‚åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ éœ€è¦é…ç½®è¿æ¥è®¾ç½®ï¼š

+ **æ•°æ®åº“è¿æ¥**ï¼šæä¾›æ•°æ®åº“çš„åœ°å€ã€ç«¯å£ã€ç”¨æˆ·åã€å¯†ç ç­‰ä¿¡æ¯ã€‚
+ **æ–‡ä»¶æ•°æ®æº**ï¼šå¦‚CSVã€Excelç­‰ï¼Œæ‚¨éœ€è¦æŒ‡å®šæ–‡ä»¶è·¯å¾„æˆ–è€…ä¸Šä¼ æ–‡ä»¶ã€‚
+ **APIæ¥å…¥**ï¼šè‹¥ä½¿ç”¨APIä½œä¸ºæ•°æ®æºï¼Œæ‚¨å¯èƒ½éœ€è¦æä¾›APIå¯†é’¥ä»¥åŠAPIç«¯ç‚¹ã€‚

### 3. **å®šä¹‰æ•°æ®æµ (ETL)**
åœ¨ä½¿ç”¨ **Data-Juicer** æ—¶ï¼Œæ•°æ®å¤„ç†ä¸€èˆ¬ä¼šé€šè¿‡ ETLï¼ˆExtract, Transform, Loadï¼‰æµç¨‹æ¥å®Œæˆã€‚æ‚¨éœ€è¦å®šä¹‰ä»¥ä¸‹æ­¥éª¤ï¼š

+ **æ•°æ®æŠ½å–ï¼ˆExtractï¼‰**ï¼šä»æ•°æ®æºæå–æ•°æ®ã€‚æ¯”å¦‚ï¼Œè¿æ¥åˆ°æ•°æ®åº“åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ SQL æŸ¥è¯¢æ¥æå–æ‰€éœ€æ•°æ®ï¼Œæˆ–è€…ä»APIè·å–JSONæ•°æ®ã€‚
+ **æ•°æ®è½¬æ¢ï¼ˆTransformï¼‰**ï¼šå¯¹æ•°æ®è¿›è¡Œæ¸…æ´—å’Œè½¬æ¢ã€‚è¿™å¯èƒ½åŒ…æ‹¬æ•°æ®å»é‡ã€ç¼ºå¤±å€¼å¡«è¡¥ã€æ•°æ®æ ¼å¼è½¬æ¢ç­‰æ“ä½œã€‚å¤§éƒ¨åˆ†æ•°æ®å¤„ç†å·¥å…·ä¼šæä¾›å›¾å½¢åŒ–ç•Œé¢æˆ–SQLè¯­å¥æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰è½¬æ¢è§„åˆ™ã€‚
+ **æ•°æ®åŠ è½½ï¼ˆLoadï¼‰**ï¼šå°†å¤„ç†åçš„æ•°æ®åŠ è½½åˆ°ç›®æ ‡ç³»ç»Ÿä¸­ï¼Œå¯èƒ½æ˜¯æ•°æ®ä»“åº“ã€æ•°æ®æ¹–ã€äº‘å­˜å‚¨ç­‰ã€‚

### 4. **è‡ªåŠ¨åŒ–ä»»åŠ¡**
**Data-Juicer** å¼ºè°ƒè‡ªåŠ¨åŒ–ã€‚æ‚¨å¯ä»¥è®¾ç½®å®šæœŸæ‰§è¡Œä»»åŠ¡çš„è®¡åˆ’ï¼š

+ é…ç½®ä»»åŠ¡è°ƒåº¦ç¨‹åºï¼Œä¾‹å¦‚æ¯å¤©ã€æ¯å‘¨æˆ–è€…åœ¨ç‰¹å®šæ—¶é—´ç‚¹è‡ªåŠ¨è¿è¡Œæ•°æ®æå–ã€è½¬æ¢å’ŒåŠ è½½ä»»åŠ¡ã€‚
+ ä½¿ç”¨**å·¥ä½œæµç®¡ç†åŠŸèƒ½**ï¼Œç¡®ä¿ä»»åŠ¡çš„é¡ºåºå’Œä¾èµ–å…³ç³»å¾—åˆ°æ­£ç¡®å¤„ç†ã€‚

### 5. **ç›‘æ§å’Œæ—¥å¿—**
åœ¨æ‰§è¡Œæ•°æ®ä»»åŠ¡æ—¶ï¼Œç›‘æ§å’Œæ—¥å¿—è®°å½•éå¸¸é‡è¦ã€‚å¤§å¤šæ•°æ•°æ®å¤„ç†å·¥å…·éƒ½ä¼šæä¾›ç›‘æ§é¢æ¿ï¼Œå¸®åŠ©ä½ è·Ÿè¸ªæ•°æ®å¤„ç†çš„çŠ¶æ€ï¼š

+ **æ—¥å¿—è®°å½•**ï¼šData-Juicer ä¼šç”Ÿæˆä»»åŠ¡çš„æ‰§è¡Œæ—¥å¿—ï¼Œå¸®åŠ©è¿½è¸ªé”™è¯¯å’Œæ‰§è¡Œç»†èŠ‚ã€‚
+ **é”™è¯¯é€šçŸ¥**ï¼šå¦‚æœå‡ºç°ä»»ä½•é—®é¢˜ï¼Œæ‚¨å¯èƒ½ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œå¯ä»¥åŠæ—¶è§£å†³é—®é¢˜ã€‚

### 6. **æµ‹è¯•å’ŒéªŒè¯**
åœ¨é…ç½®å¥½ä»»åŠ¡ä¹‹åï¼Œé€šå¸¸éœ€è¦è¿›è¡Œæµ‹è¯•ï¼Œç¡®ä¿æ•°æ®æµå’Œè½¬æ¢è§„åˆ™æŒ‰é¢„æœŸå·¥ä½œï¼š

+ å¯¹å¤„ç†ç»“æœè¿›è¡ŒéªŒè¯ï¼Œç¡®ä¿æ•°æ®æ ¼å¼å’Œå†…å®¹ç¬¦åˆè¦æ±‚ã€‚
+ å¯¹å¤§è§„æ¨¡æ•°æ®è¿›è¡Œæµ‹è¯•ï¼ŒæŸ¥çœ‹æ€§èƒ½è¡¨ç°ï¼Œç¡®ä¿å…¶å¤„ç†æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚

### 7. **ä½¿ç”¨APIè¿›è¡Œé›†æˆ**
å¦‚æœéœ€è¦ä¸å…¶ä»–åº”ç”¨ç¨‹åºæˆ–å·¥å…·è¿›è¡Œé›†æˆï¼Œ**Data-Juicer** æä¾›äº†APIæ¥å£ã€‚æ‚¨å¯ä»¥é€šè¿‡APIè°ƒç”¨æ¥å®ç°æ•°æ®çš„è‡ªåŠ¨åŒ–æå–å’ŒåŠ è½½ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­é€šè¿‡ç¼–ç¨‹æ–¹å¼å¯åŠ¨æ•°æ®å¤„ç†ä»»åŠ¡ã€‚

### 8. **ä¼˜åŒ–ä¸æ‰©å±•**
æ ¹æ®é¡¹ç›®çš„éœ€æ±‚å’Œæ•°æ®é‡çš„å¢åŠ ï¼Œå¯èƒ½éœ€è¦ä¼˜åŒ–æ•°æ®æµå’Œæé«˜æ€§èƒ½ã€‚è¿™å¯èƒ½æ¶‰åŠï¼š

+ **åˆ†å¸ƒå¼å¤„ç†**ï¼šå¦‚æœæ•°æ®é‡å¾ˆå¤§ï¼Œæ‚¨å¯ä»¥åˆ©ç”¨å¹¶è¡Œå¤„ç†å’Œåˆ†å¸ƒå¼è®¡ç®—æ¥æé«˜å¤„ç†é€Ÿåº¦ã€‚
+ **å®¹é”™æœºåˆ¶**ï¼šä¸ºä»»åŠ¡é…ç½®å®¹é”™å’Œæ¢å¤æœºåˆ¶ï¼Œç¡®ä¿ä»»åŠ¡åœ¨æ•…éšœæƒ…å†µä¸‹å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚

### ç¤ºä¾‹ï¼šä¸€ä¸ªåŸºæœ¬çš„æ•°æ®æµä»»åŠ¡
å‡è®¾æ‚¨è¦å°†ä¸€ä¸ªCSVæ–‡ä»¶çš„æ•°æ®æå–å‡ºæ¥ï¼Œè¿›è¡Œæ•°æ®æ¸…æ´—ï¼Œç„¶ååŠ è½½åˆ°ä¸€ä¸ªæ•°æ®åº“ä¸­ï¼Œæ“ä½œæ­¥éª¤å¯èƒ½å¦‚ä¸‹ï¼š

1. **é…ç½®æ•°æ®æº**ï¼š
    - è¿æ¥åˆ°CSVæ–‡ä»¶æ‰€åœ¨è·¯å¾„ã€‚
2. **å®šä¹‰ETLä»»åŠ¡**ï¼š
    - æå–CSVæ–‡ä»¶æ•°æ®ã€‚
    - è¿›è¡Œæ•°æ®è½¬æ¢ï¼šæ¯”å¦‚æ¸…æ´—ã€æ ¼å¼è½¬æ¢ã€ç¼ºå¤±å€¼å¡«è¡¥ã€‚
    - å°†æ•°æ®åŠ è½½åˆ°MySQLæ•°æ®åº“ã€‚
3. **è®¾ç½®è‡ªåŠ¨åŒ–**ï¼š
    - è®¾ç½®æ¯å¤©å‡Œæ™¨1ç‚¹è‡ªåŠ¨è¿è¡Œæ­¤ä»»åŠ¡ã€‚
4. **ç›‘æ§**ï¼š
    - ç›‘æ§æ•°æ®åŠ è½½ä»»åŠ¡çš„çŠ¶æ€ï¼Œå¦‚æœä»»åŠ¡å¤±è´¥ï¼Œè‡ªåŠ¨ç”Ÿæˆé”™è¯¯æŠ¥å‘Šå¹¶å‘é€é€šçŸ¥ã€‚

### æ€»ç»“
**Data-Juicer** æä¾›äº†ä¸€ä¸ªç›´è§‚ä¸”å¼ºå¤§çš„å·¥å…·é›†ï¼Œå¸®åŠ©ç”¨æˆ·è¿›è¡Œæ•°æ®æŠ½å–ã€æ¸…æ´—ã€è½¬æ¢å’ŒåŠ è½½ã€‚é€šè¿‡åˆç†é…ç½®æ•°æ®æºã€è®¾è®¡ETLæµç¨‹ã€è‡ªåŠ¨åŒ–ä»»åŠ¡ä»¥åŠè¿›è¡Œç›‘æ§ï¼Œæ‚¨å¯ä»¥é«˜æ•ˆåœ°å¤„ç†å’Œæ•´åˆå¤§é‡æ•°æ®ã€‚æ ¹æ®ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ï¼Œæ‚¨å¯ä»¥åœ¨é¢è¯•æ—¶è¯´æ˜æ‚¨å¦‚ä½•ä½¿ç”¨è¯¥å·¥å…·è¿›è¡Œæ•°æ®ç®¡ç†ï¼Œå¹¶å¼ºè°ƒå…¶è‡ªåŠ¨åŒ–ã€æ˜“ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚

# CUDA å’Œ cuDNN 
**CUDA** å’Œ **cuDNN** æ˜¯ä¸¤ä¸ªä¸åŒçš„ NVIDIA æŠ€æœ¯ï¼Œè™½ç„¶å®ƒä»¬éƒ½ç”¨äº GPU åŠ é€Ÿï¼Œä½†å®ƒä»¬çš„åŠŸèƒ½å’Œåº”ç”¨åœºæ™¯æœ‰æ˜¾è‘—çš„ä¸åŒï¼š

### 1. **CUDA (Compute Unified Device Architecture)**
**CUDA** æ˜¯ NVIDIA æä¾›çš„ä¸€ä¸ªå¹¶è¡Œè®¡ç®—å¹³å°å’Œç¼–ç¨‹æ¨¡å‹ï¼Œå®ƒå…è®¸å¼€å‘è€…ä½¿ç”¨ Cã€C++ã€Fortran ç­‰ç¼–ç¨‹è¯­è¨€ç¼–å†™ä»£ç ï¼Œå°†è®¡ç®—ä»»åŠ¡å¹¶è¡ŒåŒ–ï¼Œå¹¶è¿è¡Œåœ¨ NVIDIA GPU ä¸Šã€‚

#### æ ¸å¿ƒç‰¹æ€§ï¼š
+ **å¹¶è¡Œè®¡ç®—å¹³å°**ï¼šCUDA ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿé€šè¿‡ç¼–ç¨‹å°†è®¡ç®—ä»»åŠ¡å¹¶è¡ŒåŒ–ï¼Œåˆ©ç”¨ GPU å¼ºå¤§çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ã€‚
+ **çµæ´»æ€§**ï¼šå¼€å‘è€…å¯ä»¥é€šè¿‡ CUDA ç¼–å†™ä»»æ„ç±»å‹çš„è®¡ç®—ä»»åŠ¡ï¼ŒåŒ…æ‹¬çŸ©é˜µè¿ç®—ã€å›¾åƒå¤„ç†ã€ç§‘å­¦è®¡ç®—ç­‰ï¼Œç”šè‡³æ˜¯æ·±åº¦å­¦ä¹ ä¸­å¸¸è§çš„è¿ç®—ã€‚
+ **ç¡¬ä»¶æŠ½è±¡**ï¼šCUDA æä¾›äº†ç¡¬ä»¶æŠ½è±¡ï¼Œç”¨æˆ·ä¸éœ€è¦ç›´æ¥æ“ä½œåº•å±‚ç¡¬ä»¶ï¼Œè€Œæ˜¯é€šè¿‡æ›´é«˜å±‚çš„ API æ§åˆ¶ GPU èµ„æºã€‚
+ **ç¼–ç¨‹æ”¯æŒ**ï¼šCUDA æä¾›äº†ç”¨äº GPU ç¼–ç¨‹çš„ APIã€å·¥å…·é›†å’Œåº“ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨ GPU ä¸Šé«˜æ•ˆæ‰§è¡Œä»»åŠ¡ã€‚

#### åº”ç”¨åœºæ™¯ï¼š
+ è‡ªå®šä¹‰çš„ GPU åŠ é€Ÿè®¡ç®—ä»»åŠ¡ï¼Œå¦‚å¤§è§„æ¨¡çŸ©é˜µä¹˜æ³•ã€å›¾åƒå¤„ç†ç­‰ã€‚
+ å¯¹ç®—æ³•è¿›è¡Œå¹¶è¡ŒåŒ–ï¼Œå……åˆ†åˆ©ç”¨ GPU çš„è®¡ç®—èƒ½åŠ›ï¼Œæå‡æ€§èƒ½ã€‚

### 2. **cuDNN (CUDA Deep Neural Network library)**
**cuDNN** æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºæ·±åº¦å­¦ä¹ ï¼ˆå°¤å…¶æ˜¯ç¥ç»ç½‘ç»œï¼‰ä¼˜åŒ–çš„ GPU åŠ é€Ÿåº“ï¼Œå®ƒåœ¨ CUDA å¹³å°ä¸Šè¿è¡Œï¼Œæä¾›äº†å¯¹å¸¸è§æ·±åº¦å­¦ä¹ æ“ä½œï¼ˆå¦‚å·ç§¯ã€æ± åŒ–ã€æ¿€æ´»å‡½æ•°ç­‰ï¼‰çš„é«˜æ•ˆå®ç°ã€‚

#### æ ¸å¿ƒç‰¹æ€§ï¼š
+ **æ·±åº¦å­¦ä¹ ä¸“ç”¨ä¼˜åŒ–**ï¼šcuDNN é’ˆå¯¹ç¥ç»ç½‘ç»œä¸­å¸¸è§çš„æ“ä½œï¼ˆä¾‹å¦‚å·ç§¯ã€åå‘ä¼ æ’­ã€æ± åŒ–ã€æ¿€æ´»å‡½æ•°ç­‰ï¼‰è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæä¾›äº†æ¯”ä¸€èˆ¬çš„ CUDA å®ç°æ›´é«˜æ•ˆçš„æ€§èƒ½ã€‚
+ **é«˜æ•ˆçš„å†…å­˜ç®¡ç†**ï¼šcuDNN åœ¨ GPU ä¸Šé«˜æ•ˆåœ°ç®¡ç†å†…å­˜ï¼Œå‡å°‘äº†ä¸å¿…è¦çš„å†…å­˜æ‹·è´å’Œå†²çªï¼Œä¼˜åŒ–äº†è®¡ç®—è¿‡ç¨‹ä¸­çš„å†…å­˜è®¿é—®ã€‚
+ **è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç®—æ³•**ï¼šcuDNN èƒ½å¤Ÿè‡ªåŠ¨é€‰æ‹©æœ€é€‚åˆçš„ç®—æ³•æ¥æ‰§è¡Œä¸åŒç±»å‹çš„è®¡ç®—ï¼Œä»¥è·å¾—æœ€ä½³çš„æ€§èƒ½è¡¨ç°ã€‚
+ **æ·±åº¦å­¦ä¹ æ¡†æ¶æ”¯æŒ**ï¼šå¤§éƒ¨åˆ†æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼ˆå¦‚ TensorFlowã€PyTorchã€Caffe ç­‰ï¼‰éƒ½å·²ç»é›†æˆäº† cuDNNï¼Œå› æ­¤å¼€å‘è€…æ— éœ€æ‰‹åŠ¨ä¼˜åŒ–è¿™äº›æ“ä½œã€‚

#### åº”ç”¨åœºæ™¯ï¼š
+ **æ·±åº¦å­¦ä¹ ä¸­çš„å¸¸è§æ“ä½œåŠ é€Ÿ**ï¼šå¦‚å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰çš„å·ç§¯å±‚ã€åå‘ä¼ æ’­ã€çŸ©é˜µä¹˜æ³•ç­‰æ“ä½œã€‚
+ **ä¼˜åŒ–ç°æœ‰çš„æ·±åº¦å­¦ä¹ æ¨¡å‹**ï¼šé€šè¿‡ cuDNN æä¾›çš„é«˜æ•ˆå®ç°ï¼Œæå‡æ¨¡å‹è®­ç»ƒå’Œæ¨ç†çš„é€Ÿåº¦ã€‚

### 3. **æ€»ç»“å¯¹æ¯”ï¼š**
+ **åŠŸèƒ½ä¸Šçš„åŒºåˆ«**ï¼š
    - **CUDA** æ˜¯ä¸€ä¸ªé€šç”¨çš„å¹¶è¡Œè®¡ç®—å¹³å°ï¼Œé€‚ç”¨äºå„ç§ç±»å‹çš„è®¡ç®—ä»»åŠ¡ï¼ˆä¸ä»…é™äºæ·±åº¦å­¦ä¹ ï¼‰ï¼Œæä¾›åº•å±‚çš„ç¼–ç¨‹æ¥å£ã€‚
    - **cuDNN** æ˜¯åŸºäº CUDA çš„ä¸“ç”¨åº“ï¼Œä¼˜åŒ–äº†æ·±åº¦å­¦ä¹ ä¸­çš„å¸¸è§æ“ä½œï¼Œå¦‚å·ç§¯ã€æ± åŒ–ã€æ¿€æ´»ç­‰ï¼Œå®ƒä¸æ˜¯é€šç”¨çš„å¹¶è¡Œè®¡ç®—åº“ï¼Œè€Œæ˜¯ä¸“é—¨é’ˆå¯¹æ·±åº¦å­¦ä¹ ä»»åŠ¡æä¾›é«˜æ•ˆå®ç°çš„åº“ã€‚
+ **çµæ´»æ€§**ï¼š
    - **CUDA** æ›´åŠ çµæ´»ï¼Œå…è®¸å¼€å‘è€…å®ç°å‡ ä¹æ‰€æœ‰ç±»å‹çš„å¹¶è¡Œè®¡ç®—ä»»åŠ¡ã€‚
    - **cuDNN** ä¸»è¦ä¸“æ³¨äºæ·±åº¦å­¦ä¹ ä»»åŠ¡ï¼Œæä¾›äº†ä¼˜åŒ–å¥½çš„ç®—æ³•å’Œå†…å­˜ç®¡ç†ï¼Œé¿å…äº†å¼€å‘è€…æ‰‹åŠ¨ä¼˜åŒ–å¸¸è§çš„æ·±åº¦å­¦ä¹ æ“ä½œã€‚
+ **å¼€å‘éš¾åº¦**ï¼š
    - **CUDA** ç¼–ç¨‹éœ€è¦å¼€å‘è€…æœ‰ä¸€å®šçš„å¹¶è¡Œè®¡ç®—çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚
    - **cuDNN** æä¾›äº†é«˜å±‚å°è£…ï¼Œå¼€å‘è€…åªéœ€è¦è°ƒç”¨åº“ä¸­çš„ API å³å¯ä½¿ç”¨ä¼˜åŒ–çš„æ·±åº¦å­¦ä¹ æ“ä½œã€‚

### 4. **å…±åŒç‚¹ï¼š**
+ **GPU åŠ é€Ÿ**ï¼šä¸¤è€…éƒ½ä¾èµ–äº NVIDIA GPU è¿›è¡Œè®¡ç®—åŠ é€Ÿï¼Œå¹¶ä¸”éƒ½é€šè¿‡å¹¶è¡Œè®¡ç®—æ¥æé«˜æ€§èƒ½ã€‚
+ **åŸºäº CUDA**ï¼šcuDNN æ˜¯åœ¨ CUDA ä¸Šæ„å»ºçš„ï¼Œå®ƒçš„ä¼˜åŒ–ç®—æ³•å’Œæ“ä½œéƒ½åˆ©ç”¨äº† CUDA æä¾›çš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ã€‚

### 5. **åº”ç”¨ä¸¾ä¾‹ï¼š**
+ **CUDA**ï¼šå¦‚æœæ‚¨åœ¨åšä¸€äº›é€šç”¨çš„ GPU åŠ é€Ÿä»»åŠ¡ï¼ˆå¦‚å›¾åƒå¤„ç†ã€ç§‘å­¦è®¡ç®—ã€è§†é¢‘ç¼–è§£ç ç­‰ï¼‰ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦ç›´æ¥ä½¿ç”¨ CUDA ç¼–å†™ä»£ç æ¥å¹¶è¡ŒåŒ–è¿™äº›è®¡ç®—ã€‚
+ **cuDNN**ï¼šå¦‚æœæ‚¨æ­£åœ¨è¿›è¡Œæ·±åº¦å­¦ä¹ å¼€å‘ï¼ˆå¦‚è®­ç»ƒç¥ç»ç½‘ç»œæ¨¡å‹ï¼‰ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä¾èµ– cuDNN æä¾›çš„ä¼˜åŒ–æ“ä½œæ¥åŠ é€Ÿå¸¸è§çš„æ·±åº¦å­¦ä¹ è®¡ç®—ï¼Œè€Œæ— éœ€æ‰‹åŠ¨å®ç°åº•å±‚ä¼˜åŒ–ã€‚

æ€»ä¹‹ï¼Œ**CUDA** æ˜¯ä¸€ä¸ªé€šç”¨çš„å¹¶è¡Œè®¡ç®—å¹³å°ï¼Œé€‚ç”¨äºå„ç§è®¡ç®—ä»»åŠ¡ï¼›è€Œ **cuDNN** æ˜¯ä¸“ä¸ºæ·±åº¦å­¦ä¹ ä¼˜åŒ–çš„åº“ï¼Œå®ƒåŸºäº CUDA æä¾›äº†é«˜æ•ˆçš„æ·±åº¦å­¦ä¹ æ“ä½œå®ç°ï¼Œå¸®åŠ©åŠ é€Ÿç¥ç»ç½‘ç»œçš„è®­ç»ƒå’Œæ¨ç†è¿‡ç¨‹ã€‚

# å¤§æ¨¡å‹çŸ¥è¯†ç‚¹
## LLMåŸºæœ¬åŸç†
## VLLM
## alignmentè¿‡ç¨‹
## SFT
## RLHF
## rejection sampling
## CoT/PoT
## PPO
## DPO
## LLMæ•°æ®æ„é€ åŠpromptsè°ƒä¼˜
## Agents 
## RAG
## function call
## system prompts
