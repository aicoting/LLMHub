ğŸ“š** å¤§æ¨¡å‹æ¡†æ¶ç³»åˆ—æ–‡ç« **

[å¤§æ¨¡å‹å·¥ç¨‹æ¡†æ¶ç”Ÿæ€å…¨è§ˆ](https://zhuanlan.zhihu.com/p/1946500640349094644)

[æ·±å…¥ LangChainï¼šå¤§æ¨¡å‹å·¥ç¨‹æ¡†æ¶æ¶æ„å…¨è§£æ](https://zhuanlan.zhihu.com/p/1946599445497095365)

[æ‰‹æŠŠæ‰‹å¸¦ä½ ä½¿ç”¨LangChainæ¡†æ¶ä»0å®ç°RAG](https://zhuanlan.zhihu.com/p/1946857016162252076)

[æ·±å…¥ vLLMï¼šé«˜æ€§èƒ½å¤§æ¨¡å‹æ¨ç†æ¡†æ¶è§£æ](https://zhuanlan.zhihu.com/p/1947248904983811905)

[çŸ¥è¯†ç®¡ç†ä¸ RAG æ¡†æ¶å…¨æ™¯ï¼šä» LlamaIndex åˆ°å¤šæ¡†æ¶é›†æˆ](https://zhuanlan.zhihu.com/p/1947256018003277719)

[å¤§æ¨¡å‹å¾®è°ƒæ¡†æ¶ä¹‹TRL](https://zhuanlan.zhihu.com/p/1947619721609458855)

[å¤§æ¨¡å‹æ¡†æ¶ä¹‹PEFT](https://zhuanlan.zhihu.com/p/1947740801435141966)

[å¤§æ¨¡å‹å¾®è°ƒæ¡†æ¶ä¹‹LLaMA Factory](https://zhuanlan.zhihu.com/p/1948495051077419932)

[è®¤è¯† Unsloth æ¡†æ¶ï¼šå¤§æ¨¡å‹é«˜æ•ˆå¾®è°ƒçš„åˆ©å™¨](https://zhuanlan.zhihu.com/p/1948871656484344634)

[å¤§æ¨¡å‹æ¡†æ¶æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼šå»¶è¿Ÿã€ååé‡ä¸æˆæœ¬æƒè¡¡](https://zhuanlan.zhihu.com/p/1949038479997658940)

éšç€å¤§æ¨¡å‹åœ¨ä¼ä¸šåœºæ™¯ä¸­å¹¿æ³›åº”ç”¨ï¼Œ**Serverless æ¶æ„**å› å…¶æŒ‰éœ€å¼¹æ€§ä¼¸ç¼©ã€å…è¿ç»´ç®¡ç†å’Œæˆæœ¬ä¼˜åŒ–çš„ç‰¹ç‚¹ï¼Œæˆä¸ºå¤§æ¨¡å‹è½åœ°çš„ç†æƒ³é€‰æ‹©ã€‚åœ¨ Serverless ç¯å¢ƒä¸­ï¼Œå¯ä»¥å®ç°å¤§æ¨¡å‹æ¨ç†çš„é«˜å¹¶å‘å¤„ç†ï¼ŒåŒæ—¶é™ä½èµ„æºæµªè´¹å’Œè¿ç»´æˆæœ¬ã€‚

æœ¬ç¯‡æ–‡ç« å°†ç³»ç»Ÿä»‹ç»Serverless æ¶æ„ä¸å¤§æ¨¡å‹æ¡†æ¶çš„ç»“åˆæ–¹å¼ã€é«˜æ€§èƒ½æ¨ç†ä¸åŠ¨æ€æ‰©ç¼©å®¹å®è·µå’Œå¤šæ¨¡å‹åä½œä¸çŸ¥è¯†å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰åœ¨ Serverless ä¸‹çš„åº”ç”¨ã€‚

<font style="color:rgb(25, 27, 31);">æ‰€æœ‰ç›¸å…³æºç ç¤ºä¾‹ã€æµç¨‹å›¾ã€æ¨¡å‹é…ç½®ä¸çŸ¥è¯†åº“æ„å»ºæŠ€å·§ï¼Œæˆ‘ä¹Ÿå°†æŒç»­æ›´æ–°åœ¨Githubï¼š</font>[**<font style="color:rgb(25, 27, 31);">LLMHub</font>**](https://github.com/algcoting/LLMHub)<font style="color:rgb(25, 27, 31);">ï¼Œæ¬¢è¿å…³æ³¨æ”¶è—ï¼</font>

å¸Œæœ›å¤§å®¶å¸¦ç€ä¸‹é¢çš„é—®é¢˜æ¥å­¦ä¹ ï¼Œæˆ‘ä¼šåœ¨æ–‡æœ«ç»™å‡ºç­”æ¡ˆï¼š

1. **Serverless æ¶æ„å¦‚ä½•æ”¯æ’‘å¤§æ¨¡å‹æ¨ç†ï¼Ÿ**
2. **å¦‚ä½•åœ¨ Serverless ç¯å¢ƒä¸‹å®ç°é«˜æ€§èƒ½å’Œå¼¹æ€§ä¼¸ç¼©ï¼Ÿ**
3. **Serverless ä¸‹çš„å¤šæ¨¡å‹åä½œä¸ RAG å®è·µæœ‰å“ªäº›ç»éªŒï¼Ÿ**

---

## 1. Serverless æ¶æ„æ¦‚è¿°
Serverless æ˜¯ä¸€ç§æ— éœ€ç®¡ç†æœåŠ¡å™¨çš„è®¡ç®—æ¨¡å¼ï¼Œäº‘å‚å•†æŒ‰éœ€åˆ†é…è®¡ç®—èµ„æºã€‚å…³é”®ç‰¹ç‚¹ï¼š

+ **æŒ‰éœ€è®¡è´¹**ï¼šåªä¸ºå®é™…ä½¿ç”¨çš„è®¡ç®—é‡ä»˜è´¹
+ **å¼¹æ€§ä¼¸ç¼©**ï¼šè‡ªåŠ¨æ ¹æ®è¯·æ±‚é‡æ‰©å±•å®ä¾‹
+ **å…è¿ç»´ç®¡ç†**ï¼šæ— éœ€å…³æ³¨åº•å±‚æœåŠ¡å™¨éƒ¨ç½²ä¸ç›‘æ§

![](https://cdn.nlark.com/yuque/0/2025/png/28454971/1756947584114-5ec50e3d-40df-4ee0-89dc-4f25e8aacef5.png)

åœ¨å¤§æ¨¡å‹è½åœ°ä¸­ï¼ŒServerless å¯ä»¥ï¼š

+ å°†æ¨ç†ä»»åŠ¡æ‹†åˆ†ä¸ºç‹¬ç«‹å‡½æ•°
+ å¼¹æ€§è°ƒåº¦ GPU/CPU èµ„æº
+ ä¸å¾®æœåŠ¡æ¶æ„ç»“åˆï¼Œå®ç°å¤šæ¨¡å‹åä½œ

---

## 2. Serverless å¤§æ¨¡å‹æ¡†æ¶è½åœ°
ä»¥ **vLLM + LangChain + å‘é‡æ•°æ®åº“** ä¸ºä¾‹ï¼Œå®ç° Serverless æ¶æ„ä¸‹çš„é«˜æ€§èƒ½æ¨ç†ã€‚

### 2.1 å‡½æ•°åŒ–æ¨ç†
å°†æ¯ä¸ªæ¨¡å‹è°ƒç”¨å°è£…ä¸ºä¸€ä¸ª Serverless å‡½æ•°ï¼ˆFunction-as-a-Serviceï¼ŒFaaSï¼‰ã€‚

#### ç¤ºä¾‹ä»£ç ï¼ˆPython + AWS Lambdaï¼‰ï¼š
```python
# lambda_function.py
import json
from vllm import LLM, SamplingParams
# æ¯ä¸ªæ¨ç†è¯·æ±‚è§¦å‘ Lambda å‡½æ•°ï¼Œå®ç°æŒ‰éœ€å¼¹æ€§è®¡ç®—ã€‚
llm = LLM(model="huggingface/gpt-j-6B")

def lambda_handler(event, context):
    prompt = event.get("prompt", "")
    result = llm.generate([prompt], sampling_params=SamplingParams(max_output_tokens=100))
    return {
        "statusCode": 200,
        "body": json.dumps({"text": result[0].text})
    }
```

---

### 2.2 å¼¹æ€§ä¼¸ç¼©ä¸é«˜å¹¶å‘
Serverless å¹³å°ï¼ˆå¦‚ AWS Lambdaã€Azure Functionsã€FunctionGraphï¼‰è‡ªåŠ¨æ ¹æ®è¯·æ±‚é‡æ‰©å®¹ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚

+ **æ‰¹é‡å¤„ç†**ï¼šå¤šä¸ªè¯·æ±‚åˆå¹¶ä¸ºæ‰¹æ¬¡ï¼Œæé«˜ GPU åˆ©ç”¨ç‡
+ **å¼‚æ­¥è§¦å‘**ï¼šæ”¯æŒæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆSQSã€Kafkaï¼‰å¼‚æ­¥è°ƒåº¦
+ **å†·å¯åŠ¨ä¼˜åŒ–**ï¼šé¢„çƒ­å®ä¾‹æˆ–ä½¿ç”¨å®¹å™¨å¤ç”¨ç­–ç•¥

#### ç¤ºä¾‹ä»£ç ï¼ˆå¼‚æ­¥æ‰¹é‡å¤„ç†ï¼‰ï¼š
```python
import asyncio
from vllm import LLM, SamplingParams
# å¼‚æ­¥æ‰¹é‡æ‰§è¡Œå……åˆ†åˆ©ç”¨å¼¹æ€§èµ„æºï¼ŒåŒæ—¶é™ä½å»¶è¿Ÿã€‚
model = LLM(model="huggingface/gpt-j-6B")

prompts = ["Hello!", "How are you?", "Tell me a joke."]

async def async_generate(prompt):
    return await model.agenerate([prompt], sampling_params=SamplingParams(max_output_tokens=50))

results = asyncio.run(asyncio.gather(*(async_generate(p) for p in prompts)))
for res in results:
    print(res[0].text)
```

---

### 2.3 å¤šæ¨¡å‹åä½œä¸è·¯ç”±
åœ¨ Serverless ä¸‹ï¼Œå¯é€šè¿‡ **LangChain Agent** åŠ¨æ€è·¯ç”±ä¸åŒæ¨¡å‹å¤„ç†ä»»åŠ¡ï¼š

+ é«˜ä¼˜å…ˆçº§æˆ–å¤æ‚ä»»åŠ¡åˆ†é…å¤§æ¨¡å‹
+ ç®€å•ä»»åŠ¡åˆ†é…è½»é‡æ¨¡å‹
+ åŒæ—¶æ”¯æŒæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰

#### ç¤ºä¾‹ä»£ç ï¼ˆå¤šæ¨¡å‹è·¯ç”±ï¼‰ï¼š
```python
from langchain.agents import initialize_agent, Tool
from langchain.llms import OpenAI
# Serverless ä¸‹ï¼Œæ¯ä¸ªå·¥å…·å¯ç‹¬ç«‹éƒ¨ç½²ï¼Œæ”¯æŒé«˜å¹¶å‘å’Œå¤šæ¨¡å‹åä½œã€‚
# å®šä¹‰ä¸åŒæ¨¡å‹å·¥å…·
tools = [
    Tool(name="LargeModel", func=lambda q: OpenAI(model_name="text-davinci-003")(q), description="Complex tasks"),
    Tool(name="SmallModel", func=lambda q: OpenAI(model_name="gpt-3.5-turbo")(q), description="Simple tasks")
]

agent = initialize_agent(tools, llm=None, agent="zero-shot-react-description", verbose=True)

# åŠ¨æ€è·¯ç”±ä»»åŠ¡
agent.run("Explain quantum physics in simple terms")
agent.run("Write a funny joke")
```

---

### 2.4 çŸ¥è¯†å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰å®è·µ
Serverless æ¶æ„ç»“åˆ LlamaIndex æˆ– Haystackï¼Œå®ç°å‘é‡æ•°æ®åº“æ£€ç´¢å¢å¼ºç”Ÿæˆï¼š

+ ç”¨æˆ·è¯·æ±‚è§¦å‘å‡½æ•°
+ æ£€ç´¢å‘é‡æ•°æ®åº“è¿”å›ç›¸å…³æ–‡æ¡£
+ ç”Ÿæˆå‡½æ•°ç»“åˆä¸Šä¸‹æ–‡è¾“å‡ºç­”æ¡ˆ

#### ç¤ºä¾‹ä»£ç ï¼ˆServerless + RAGï¼‰ï¼š
```python
from llama_index import GPTVectorStoreIndex, SimpleDirectoryReader
from langchain.llms import OpenAI
# Serverless + RAG å®ç°çŸ¥è¯†å¢å¼ºç”Ÿæˆï¼Œä¿è¯ç”Ÿæˆå†…å®¹å‡†ç¡®ã€å®æ—¶ã€‚
# æ„å»ºå‘é‡ç´¢å¼•
documents = SimpleDirectoryReader("docs/").load_data()
index = GPTVectorStoreIndex.from_documents(documents)

def handler(event, context):
    query = event.get("query")
    context_text = index.query(query).response
    llm = OpenAI()
    answer = llm(f"Answer using context: {context_text}\nQuestion: {query}")
    return {"answer": answer}
```

---

## 3. Serverless æ¶æ„ä¸‹çš„ä¼˜åŒ–ç­–ç•¥
+ **å»¶è¿Ÿä¼˜åŒ–**ï¼šå¼‚æ­¥æ‰§è¡Œã€æ‰¹é‡æ¨ç†ã€å†·å¯åŠ¨é¢„çƒ­
+ **ååé‡æå‡**ï¼šå¤šå‡½æ•°å¹¶è¡Œã€æµæ°´çº¿åŒ–æ¨ç†ã€å¼‚æ„ç¡¬ä»¶è°ƒåº¦
+ **æˆæœ¬æ§åˆ¶**ï¼šæŒ‰éœ€è®¡è´¹ã€è½»é‡æ¨¡å‹ä¼˜å…ˆã€åŠ¨æ€èµ„æºè°ƒåº¦

ç»“åˆè¿™äº›ç­–ç•¥ï¼ŒServerless æ¶æ„å¯å®ç°é«˜å¹¶å‘ã€ä½å»¶è¿Ÿå’Œæˆæœ¬å¯æ§çš„å¤§æ¨¡å‹åº”ç”¨ã€‚

---

æœ€åï¼Œæˆ‘ä»¬å›ç­”æ–‡ç« å¼€å¤´çš„é—®é¢˜

1. **Serverless æ¶æ„å¦‚ä½•æ”¯æ’‘å¤§æ¨¡å‹æ¨ç†ï¼Ÿ**  
å°†æ¨¡å‹è°ƒç”¨å°è£…ä¸ºå‡½æ•°ï¼ˆFaaSï¼‰ï¼Œå¹³å°æŒ‰éœ€åˆ†é…è®¡ç®—èµ„æºï¼Œå®ç°å¼¹æ€§ä¼¸ç¼©å’Œé«˜å¹¶å‘ã€‚
2. **å¦‚ä½•åœ¨ Serverless ç¯å¢ƒä¸‹å®ç°é«˜æ€§èƒ½ï¼Ÿ**  
é€šè¿‡å¼‚æ­¥æ‰¹é‡å¤„ç†ã€å¤šæ¨¡å‹å¹¶è¡Œã€æµæ°´çº¿åŒ–æ¨ç†ä»¥åŠç¡¬ä»¶å¼‚æ„è°ƒåº¦ã€‚
3. **Serverless ä¸‹å¤šæ¨¡å‹åä½œä¸ RAG å®è·µæœ‰å“ªäº›ç»éªŒï¼Ÿ**  
åˆ©ç”¨ LangChain Agent åŠ¨æ€è·¯ç”±ä»»åŠ¡ï¼Œç»“åˆå‘é‡æ•°æ®åº“å®ç°çŸ¥è¯†å¢å¼ºç”Ÿæˆï¼Œå®ç°é«˜ååé‡å’Œä½å»¶è¿Ÿã€‚

---

å…³äºæ·±åº¦å­¦ä¹ å’Œå¤§æ¨¡å‹ç›¸å…³çš„çŸ¥è¯†å’Œå‰æ²¿æŠ€æœ¯æ›´æ–°ï¼Œè¯·å…³æ³¨å…¬ä¼—å· **coting**ï¼

ä»¥ä¸Šå†…å®¹å‚è€ƒ LangChainã€vLLMã€LlamaIndex ä»¥åŠ Serverless å¹³å°æ–‡æ¡£ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»åˆ é™¤ã€‚



